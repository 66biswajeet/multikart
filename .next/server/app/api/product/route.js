/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/product/route";
exports.ids = ["app/api/product/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproduct%2Froute&page=%2Fapi%2Fproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproduct%2Froute.js&appDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproduct%2Froute&page=%2Fapi%2Fproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproduct%2Froute.js&appDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var C_Users_Biswajeet_OneDrive_Desktop_ALLFreelance_multikart_admin_src_app_api_product_route_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/product/route.js */ \"(rsc)/./src/app/api/product/route.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/product/route\",\n        pathname: \"/api/product\",\n        filename: \"route\",\n        bundlePath: \"app/api/product/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"C:\\\\Users\\\\Biswajeet\\\\OneDrive\\\\Desktop\\\\ALLFreelance\\\\multikart-admin\\\\src\\\\app\\\\api\\\\product\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Biswajeet_OneDrive_Desktop_ALLFreelance_multikart_admin_src_app_api_product_route_js__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/product/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9kdWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvZHVjdCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNCaXN3YWplZXQlNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNBTExGcmVlbGFuY2UlNUNtdWx0aWthcnQtYWRtaW4lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0Jpc3dhamVldCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q0FMTEZyZWVsYW5jZSU1Q211bHRpa2FydC1hZG1pbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUNtRTtBQUNySTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCx3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QTtBQUNBO0FBQ0EsNkNBQTZDLDBGQUFxQjtBQUNsRTtBQUNBLGtCQUFrQiw2RUFBWTtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTiw2QkFBNkIsNkZBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEJpc3dhamVldFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXEFMTEZyZWVsYW5jZVxcXFxtdWx0aWthcnQtYWRtaW5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccHJvZHVjdFxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZHVjdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2R1Y3RcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2R1Y3Qvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcQmlzd2FqZWV0XFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcQUxMRnJlZWxhbmNlXFxcXG11bHRpa2FydC1hZG1pblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwcm9kdWN0XFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvcHJvZHVjdC9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNSZXZhbGlkYXRlID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuY2FjaGVDb21wb25lbnRzKSxcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX25leHRDb25maWdfZXhwZXJpbWVudGFsID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwpID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWwuY2FjaGVMaWZlLFxuICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgb25DbG9zZTogKGNiKT0+e1xuICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dClcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub2RlTmV4dFJlcSA9IG5ldyBOb2RlTmV4dFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBub2RlTmV4dFJlcyA9IG5ldyBOb2RlTmV4dFJlc3BvbnNlKHJlcyk7XG4gICAgY29uc3QgbmV4dFJlcSA9IE5leHRSZXF1ZXN0QWRhcHRlci5mcm9tTm9kZU5leHRSZXF1ZXN0KG5vZGVOZXh0UmVxLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlKHJlcykpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuaGFuZGxlKG5leHRSZXEsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgTm9GYWxsYmFja0Vycm9yKSkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproduct%2Froute&page=%2Fapi%2Fproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproduct%2Froute.js&appDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/product/route.js":
/*!**************************************!*\
  !*** ./src/app/api/product/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/dbConnect */ \"(rsc)/./src/lib/dbConnect.js\");\n/* harmony import */ var _models_Products__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Products */ \"(rsc)/./src/models/Products.js\");\n/* harmony import */ var _models_Tag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/Tag */ \"(rsc)/./src/models/Tag.js\");\n/* harmony import */ var _models_Category__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/Category */ \"(rsc)/./src/models/Category.js\");\n/* harmony import */ var _models_Brand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/models/Brand */ \"(rsc)/./src/models/Brand.js\");\n/* harmony import */ var _models_Attributes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/models/Attributes */ \"(rsc)/./src/models/Attributes.js\");\n/* harmony import */ var _utils_auth_serverAuth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/auth/serverAuth */ \"(rsc)/./src/utils/auth/serverAuth.js\");\n/* harmony import */ var _utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/cloudinary/cloudinaryService */ \"(rsc)/./src/utils/cloudinary/cloudinaryService.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * GET /api/product - Get all products with filtering, searching, sorting and pagination\n */ async function GET(request) {\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const searchParams = request?.nextUrl?.searchParams;\n        const queryCategory = searchParams.get(\"category\");\n        const querySortBy = searchParams.get(\"sortBy\");\n        const querySearch = searchParams.get(\"search\");\n        const queryTag = searchParams.get(\"tag\");\n        const queryIds = searchParams.get(\"ids\");\n        const queryBrandIds = searchParams.get(\"brand_ids\");\n        const queryStoreIds = searchParams.get(\"store_ids\");\n        const queryProductType = searchParams.get(\"product_type\");\n        const queryCategoryIds = searchParams.get(\"category_ids\");\n        const queryStatus = searchParams.get(\"status\");\n        const queryPage = parseInt(searchParams.get(\"page\")) || 1;\n        const queryLimit = parseInt(searchParams.get(\"paginate\")) || 10;\n        // Build MongoDB query\n        let query = {};\n        // Filter by IDs\n        if (queryIds) {\n            query._id = {\n                $in: queryIds.split(\",\")\n            };\n        }\n        // Filter by category IDs\n        if (queryCategoryIds) {\n            query.categories = {\n                $in: queryCategoryIds.split(\",\")\n            };\n        }\n        // Filter by brand IDs\n        if (queryBrandIds) {\n            query.brand_id = {\n                $in: queryBrandIds.split(\",\")\n            };\n        }\n        // Filter by store IDs\n        if (queryStoreIds) {\n            query.store_id = {\n                $in: queryStoreIds.split(\",\").map((id)=>parseInt(id))\n            };\n        }\n        // Filter by product type\n        if (queryProductType) {\n            query.product_type = queryProductType;\n        }\n        // Filter by status\n        if (queryStatus) {\n            query.status = parseInt(queryStatus);\n        }\n        // Search by name\n        if (querySearch) {\n            query.name = {\n                $regex: querySearch,\n                $options: 'i'\n            };\n        }\n        // Build sort options\n        let sortOptions = {};\n        if (querySortBy === \"asc\") {\n            sortOptions = {\n                _id: 1\n            };\n        } else if (querySortBy === \"desc\") {\n            sortOptions = {\n                _id: -1\n            };\n        } else if (querySortBy === \"a-z\") {\n            sortOptions = {\n                name: 1\n            };\n        } else if (querySortBy === \"z-a\") {\n            sortOptions = {\n                name: -1\n            };\n        } else if (querySortBy === \"newest\") {\n            sortOptions = {\n                created_at: -1\n            };\n        } else if (querySortBy === \"oldest\") {\n            sortOptions = {\n                created_at: 1\n            };\n        } else {\n            sortOptions = {\n                created_at: -1\n            }; // Default sort\n        }\n        // Execute query with pagination\n        const totalProducts = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countDocuments(query);\n        const products = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(query).populate('categories', 'name slug').populate('tags', 'name slug').populate('brand_id', 'name slug').sort(sortOptions).skip((queryPage - 1) * queryLimit).limit(queryLimit).lean();\n        // Calculate pagination info\n        const response = {\n            current_page: queryPage,\n            last_page: Math.ceil(totalProducts / queryLimit),\n            total: totalProducts,\n            per_page: queryLimit,\n            data: products.map((product)=>({\n                    ...product,\n                    id: product._id.toString() // Ensure ID is string\n                }))\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n    } catch (error) {\n        console.log(\"Product GET error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to fetch products\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * POST /api/product - Create new product\n */ async function POST(request) {\n    console.log(\"=== PRODUCT POST API CALLED ===\");\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        // Check admin authentication\n        const authCheck = await (0,_utils_auth_serverAuth__WEBPACK_IMPORTED_MODULE_7__.requireAdmin)(request);\n        if (!authCheck.success) {\n            return authCheck.errorResponse;\n        }\n        // Parse FormData\n        const formData = await request.formData();\n        console.log(\" Received FormData\");\n        // Extract JSON data (sent as a string in 'data' field)\n        const productDataString = formData.get('data');\n        const productData = productDataString ? JSON.parse(productDataString) : {};\n        // Extract files\n        const product_thumbnail_file = formData.get('product_thumbnail');\n        const product_galleries_files = formData.getAll('product_galleries');\n        const size_chart_image_file = formData.get('size_chart_image');\n        const watermark_image_file = formData.get('watermark_image');\n        const product_meta_image_file = formData.get('product_meta_image');\n        console.log(\" Product data:\", {\n            name: productData.name,\n            sku: productData.sku\n        });\n        console.log(\" Files:\", {\n            product_thumbnail: product_thumbnail_file ? product_thumbnail_file.name : 'none',\n            product_galleries: product_galleries_files.length,\n            size_chart_image: size_chart_image_file ? size_chart_image_file.name : 'none',\n            watermark_image: watermark_image_file ? watermark_image_file.name : 'none',\n            product_meta_image: product_meta_image_file ? product_meta_image_file.name : 'none'\n        });\n        // Generate unique SKU if not provided\n        if (!productData.sku) {\n            productData.sku = `SKU-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        }\n        // Generate slug from name if not provided\n        if (!productData.slug && productData.name) {\n            productData.slug = productData.name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');\n            // Ensure slug uniqueness\n            const existingSlug = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n                slug: productData.slug\n            });\n            if (existingSlug) {\n                productData.slug = `${productData.slug}-${Date.now()}`;\n            }\n        }\n        // Set default values\n        productData.status = productData.status || 1;\n        productData.created_by_id = authCheck.authData.userId || \"admin\";\n        // Auto-increment ID for compatibility\n        const lastProduct = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne().sort({\n            id: -1\n        }).select('id');\n        productData.id = lastProduct ? lastProduct.id + 1 : 1;\n        // Process file uploads\n        let product_thumbnail_url = null;\n        let product_galleries_urls = [];\n        let size_chart_image_url = null;\n        let watermark_image = null;\n        let product_meta_image_url = null;\n        // Create temp directory if it doesn't exist\n        const uploadDir = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(process.cwd(), 'uploads', 'temp');\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_11__.existsSync)(uploadDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.mkdir)(uploadDir, {\n                recursive: true\n            });\n        }\n        try {\n            // Upload product_thumbnail\n            if (product_thumbnail_file && product_thumbnail_file.size > 0) {\n                console.log(\" Uploading product_thumbnail to Cloudinary...\");\n                const bytes = await product_thumbnail_file.arrayBuffer();\n                const buffer = Buffer.from(bytes);\n                const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(uploadDir, `product-thumb-${Date.now()}${path__WEBPACK_IMPORTED_MODULE_10___default().extname(product_thumbnail_file.name)}`);\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.writeFile)(tempPath, buffer);\n                const uploadResult = await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.uploadToCloudinary)([\n                    {\n                        path: tempPath,\n                        originalname: product_thumbnail_file.name\n                    }\n                ], 'products');\n                product_thumbnail_url = uploadResult[0].secure_url;\n                console.log(\" Product thumbnail uploaded:\", product_thumbnail_url);\n            }\n            // Upload size_chart_image\n            if (size_chart_image_file && size_chart_image_file.size > 0) {\n                console.log(\" Uploading size_chart_image to Cloudinary...\");\n                const bytes = await size_chart_image_file.arrayBuffer();\n                const buffer = Buffer.from(bytes);\n                const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(uploadDir, `size-chart-${Date.now()}${path__WEBPACK_IMPORTED_MODULE_10___default().extname(size_chart_image_file.name)}`);\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.writeFile)(tempPath, buffer);\n                const uploadResult = await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.uploadToCloudinary)([\n                    {\n                        path: tempPath,\n                        originalname: size_chart_image_file.name\n                    }\n                ], 'products');\n                size_chart_image_url = uploadResult[0].secure_url;\n                console.log(\" Size chart image uploaded:\", size_chart_image_url);\n            }\n            // Upload watermark_image\n            if (watermark_image_file && watermark_image_file.size > 0) {\n                console.log(\" Uploading watermark_image to Cloudinary...\");\n                const bytes = await watermark_image_file.arrayBuffer();\n                const buffer = Buffer.from(bytes);\n                const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(uploadDir, `watermark-${Date.now()}${path__WEBPACK_IMPORTED_MODULE_10___default().extname(watermark_image_file.name)}`);\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.writeFile)(tempPath, buffer);\n                const uploadResult = await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.uploadToCloudinary)([\n                    {\n                        path: tempPath,\n                        originalname: watermark_image_file.name\n                    }\n                ], 'products');\n                watermark_image = uploadResult[0].secure_url;\n                console.log(\" Watermark image uploaded:\", watermark_image);\n            }\n            // Upload product_meta_image\n            if (product_meta_image_file && product_meta_image_file.size > 0) {\n                console.log(\" Uploading product_meta_image to Cloudinary...\");\n                const bytes = await product_meta_image_file.arrayBuffer();\n                const buffer = Buffer.from(bytes);\n                const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(uploadDir, `meta-image-${Date.now()}${path__WEBPACK_IMPORTED_MODULE_10___default().extname(product_meta_image_file.name)}`);\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.writeFile)(tempPath, buffer);\n                const uploadResult = await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.uploadToCloudinary)([\n                    {\n                        path: tempPath,\n                        originalname: product_meta_image_file.name\n                    }\n                ], 'products');\n                product_meta_image_url = uploadResult[0].secure_url;\n                console.log(\" Product meta image uploaded:\", product_meta_image_url);\n            }\n            // Upload product_galleries\n            if (product_galleries_files && product_galleries_files.length > 0) {\n                console.log(` Uploading ${product_galleries_files.length} gallery images to Cloudinary...`);\n                for (const galleryFile of product_galleries_files){\n                    if (galleryFile && galleryFile.size > 0) {\n                        const bytes = await galleryFile.arrayBuffer();\n                        const buffer = Buffer.from(bytes);\n                        const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(uploadDir, `product-gallery-${Date.now()}-${Math.random().toString(36).substr(2, 9)}${path__WEBPACK_IMPORTED_MODULE_10___default().extname(galleryFile.name)}`);\n                        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.writeFile)(tempPath, buffer);\n                        const uploadResult = await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.uploadToCloudinary)([\n                            {\n                                path: tempPath,\n                                originalname: galleryFile.name\n                            }\n                        ], 'products');\n                        product_galleries_urls.push(uploadResult[0].secure_url);\n                    }\n                }\n                console.log(` Uploaded ${product_galleries_urls.length} gallery images`);\n            }\n            // Upload variation images if present\n            if (productData.variations && Array.isArray(productData.variations)) {\n                for(let i = 0; i < productData.variations.length; i++){\n                    const variationImageFile = formData.get(`variation_image_${i}`);\n                    if (variationImageFile && variationImageFile.size > 0) {\n                        console.log(` Uploading variation ${i} image to Cloudinary...`);\n                        const bytes = await variationImageFile.arrayBuffer();\n                        const buffer = Buffer.from(bytes);\n                        const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_10__.join)(uploadDir, `variation-${Date.now()}-${i}${path__WEBPACK_IMPORTED_MODULE_10___default().extname(variationImageFile.name)}`);\n                        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_9__.writeFile)(tempPath, buffer);\n                        const uploadResult = await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.uploadToCloudinary)([\n                            {\n                                path: tempPath,\n                                originalname: variationImageFile.name\n                            }\n                        ], 'products/variations');\n                        productData.variations[i].variation_image = uploadResult[0].secure_url;\n                        console.log(` Variation ${i} image uploaded`);\n                    }\n                }\n            }\n        } catch (uploadError) {\n            console.error(\" Upload error:\", uploadError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: \"Failed to upload images\",\n                error: uploadError.message\n            }, {\n                status: 500\n            });\n        }\n        // Set uploaded URLs in product data\n        productData.product_thumbnail = product_thumbnail_url;\n        productData.product_galleries = product_galleries_urls;\n        productData.size_chart_image = size_chart_image_url;\n        productData.watermark_image = watermark_image;\n        productData.product_meta_image = product_meta_image_url;\n        // Create the product\n        const newProduct = new _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"](productData);\n        await newProduct.save();\n        console.log(\" Product created successfully\");\n        // Populate relations for response\n        const populatedProduct = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(newProduct._id).populate('categories', 'name slug').populate('tags', 'name slug').populate('brand_id', 'name slug');\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Product created successfully\",\n            data: populatedProduct\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\" Product POST error:\", error);\n        // Handle validation errors\n        if (error.name === 'ValidationError') {\n            const validationErrors = Object.values(error.errors).map((err)=>err.message);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: \"Validation failed\",\n                errors: validationErrors\n            }, {\n                status: 400\n            });\n        }\n        // Handle duplicate key errors\n        if (error.code === 11000) {\n            const duplicateField = Object.keys(error.keyPattern)[0];\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: `${duplicateField} already exists`\n            }, {\n                status: 409\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to create product\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * DELETE /api/product - Bulk delete products\n */ async function DELETE(request) {\n    console.log(\"=== PRODUCT BULK DELETE API CALLED ===\");\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        // Check admin authentication\n        const authCheck = await (0,_utils_auth_serverAuth__WEBPACK_IMPORTED_MODULE_7__.requireAdmin)(request);\n        if (!authCheck.success) {\n            return authCheck.errorResponse;\n        }\n        const { ids } = await request.json();\n        if (!ids || !Array.isArray(ids) || ids.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: \"Product IDs are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Find all products to delete\n        const productsToDelete = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n            _id: {\n                $in: ids\n            }\n        });\n        // Collect all images to delete from Cloudinary\n        const imagesToDelete = [];\n        productsToDelete.forEach((product)=>{\n            // Add product thumbnail\n            if (product.product_thumbnail) {\n                imagesToDelete.push(product.product_thumbnail);\n            }\n            // Add product galleries\n            if (product.product_galleries && Array.isArray(product.product_galleries)) {\n                imagesToDelete.push(...product.product_galleries);\n            }\n            // Add size chart image\n            if (product.size_chart_image) {\n                imagesToDelete.push(product.size_chart_image);\n            }\n            // Add watermark image\n            if (product.watermark_image) {\n                imagesToDelete.push(product.watermark_image);\n            }\n            // Add product meta image\n            if (product.product_meta_image) {\n                imagesToDelete.push(product.product_meta_image);\n            }\n            // Add variation images\n            if (product.variations && Array.isArray(product.variations)) {\n                product.variations.forEach((variation)=>{\n                    if (variation.variation_image) {\n                        imagesToDelete.push(variation.variation_image);\n                    }\n                    if (variation.variation_galleries && Array.isArray(variation.variation_galleries)) {\n                        imagesToDelete.push(...variation.variation_galleries);\n                    }\n                });\n            }\n        });\n        // Delete all images from Cloudinary\n        if (imagesToDelete.length > 0) {\n            console.log(` Deleting ${imagesToDelete.length} images from Cloudinary`);\n            for (const imageUrl of imagesToDelete){\n                await (0,_utils_cloudinary_cloudinaryService__WEBPACK_IMPORTED_MODULE_8__.deleteFromCloudinary)(imageUrl).catch((err)=>console.error(\" Error deleting image from Cloudinary:\", err));\n            }\n            console.log(\" All images deleted from Cloudinary\");\n        }\n        // Hard delete - permanently remove from database\n        const result = await _models_Products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteMany({\n            _id: {\n                $in: ids\n            }\n        });\n        console.log(` Deleted ${result.deletedCount} products from database`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `${result.deletedCount} products deleted successfully`,\n            deleted_count: result.deletedCount\n        });\n    } catch (error) {\n        console.error(\" Product DELETE error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to delete products\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsYUFBYSxFQUFFa0YsZUFBZTlELE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQztZQUMxRSxLQUFLLE1BQU1rRSxZQUFZSixlQUFnQjtnQkFDckMsTUFBTWhKLHlGQUFvQkEsQ0FBQ29KLFVBQVVDLEtBQUssQ0FBQ2IsQ0FBQUEsTUFDekMzRSxRQUFRRCxLQUFLLENBQUMsNENBQTRDNEU7WUFFOUQ7WUFDQTNFLFFBQVFDLEdBQUcsQ0FBQztRQUNkO1FBRUEsaURBQWlEO1FBQ2pELE1BQU13RixTQUFTLE1BQU03Six3REFBT0EsQ0FBQzhKLFVBQVUsQ0FDckM7WUFBRTlILEtBQUs7Z0JBQUVDLEtBQUtvSDtZQUFJO1FBQUU7UUFHdEJqRixRQUFRQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUV3RixPQUFPRSxZQUFZLENBQUMsdUJBQXVCLENBQUM7UUFFckUsT0FBT2pLLHFEQUFZQSxDQUFDb0UsSUFBSSxDQUFDO1lBQ3ZCSSxTQUFTO1lBQ1RDLFNBQVMsR0FBR3NGLE9BQU9FLFlBQVksQ0FBQyw4QkFBOEIsQ0FBQztZQUMvREMsZUFBZUgsT0FBT0UsWUFBWTtRQUNwQztJQUVGLEVBQUUsT0FBTzVGLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBT3JFLHFEQUFZQSxDQUFDb0UsSUFBSSxDQUN0QjtZQUFFSSxTQUFTO1lBQU9DLFNBQVM7WUFBNkJKLE9BQU9BLE1BQU1JLE9BQU87UUFBQyxHQUM3RTtZQUFFOUIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQmlzd2FqZWV0XFxPbmVEcml2ZVxcRGVza3RvcFxcQUxMRnJlZWxhbmNlXFxtdWx0aWthcnQtYWRtaW5cXHNyY1xcYXBwXFxhcGlcXHByb2R1Y3RcXHJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IGRiQ29ubmVjdCBmcm9tIFwiQC9saWIvZGJDb25uZWN0XCI7XG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiQC9tb2RlbHMvUHJvZHVjdHNcIjtcbmltcG9ydCBUYWcgZnJvbSBcIkAvbW9kZWxzL1RhZ1wiO1xuaW1wb3J0IENhdGVnb3J5IGZyb20gXCJAL21vZGVscy9DYXRlZ29yeVwiO1xuaW1wb3J0IEJyYW5kIGZyb20gXCJAL21vZGVscy9CcmFuZFwiO1xuaW1wb3J0IEF0dHJpYnV0ZSBmcm9tIFwiQC9tb2RlbHMvQXR0cmlidXRlc1wiO1xuaW1wb3J0IHsgcmVxdWlyZUFkbWluIH0gZnJvbSBcIkAvdXRpbHMvYXV0aC9zZXJ2ZXJBdXRoXCI7XG5pbXBvcnQgeyB1cGxvYWRUb0Nsb3VkaW5hcnksIGRlbGV0ZUZyb21DbG91ZGluYXJ5IH0gZnJvbSBcIkAvdXRpbHMvY2xvdWRpbmFyeS9jbG91ZGluYXJ5U2VydmljZVwiO1xuaW1wb3J0IHsgd3JpdGVGaWxlLCBta2RpciB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG4vKipcbiAqIEdFVCAvYXBpL3Byb2R1Y3QgLSBHZXQgYWxsIHByb2R1Y3RzIHdpdGggZmlsdGVyaW5nLCBzZWFyY2hpbmcsIHNvcnRpbmcgYW5kIHBhZ2luYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG5cbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSByZXF1ZXN0Py5uZXh0VXJsPy5zZWFyY2hQYXJhbXM7XG4gICAgY29uc3QgcXVlcnlDYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJjYXRlZ29yeVwiKTtcbiAgICBjb25zdCBxdWVyeVNvcnRCeSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJzb3J0QnlcIik7XG4gICAgY29uc3QgcXVlcnlTZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KFwic2VhcmNoXCIpO1xuICAgIGNvbnN0IHF1ZXJ5VGFnID0gc2VhcmNoUGFyYW1zLmdldChcInRhZ1wiKTtcbiAgICBjb25zdCBxdWVyeUlkcyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJpZHNcIik7XG4gICAgY29uc3QgcXVlcnlCcmFuZElkcyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJicmFuZF9pZHNcIik7XG4gICAgY29uc3QgcXVlcnlTdG9yZUlkcyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJzdG9yZV9pZHNcIik7XG4gICAgY29uc3QgcXVlcnlQcm9kdWN0VHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJwcm9kdWN0X3R5cGVcIik7XG4gICAgY29uc3QgcXVlcnlDYXRlZ29yeUlkcyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJjYXRlZ29yeV9pZHNcIik7XG4gICAgY29uc3QgcXVlcnlTdGF0dXMgPSBzZWFyY2hQYXJhbXMuZ2V0KFwic3RhdHVzXCIpO1xuXG4gICAgY29uc3QgcXVlcnlQYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldChcInBhZ2VcIikpIHx8IDE7XG4gICAgY29uc3QgcXVlcnlMaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoXCJwYWdpbmF0ZVwiKSkgfHwgMTA7XG5cbiAgICAvLyBCdWlsZCBNb25nb0RCIHF1ZXJ5XG4gICAgbGV0IHF1ZXJ5ID0ge307XG5cbiAgICAvLyBGaWx0ZXIgYnkgSURzXG4gICAgaWYgKHF1ZXJ5SWRzKSB7XG4gICAgICBxdWVyeS5faWQgPSB7ICRpbjogcXVlcnlJZHMuc3BsaXQoXCIsXCIpIH07XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIGJ5IGNhdGVnb3J5IElEc1xuICAgIGlmIChxdWVyeUNhdGVnb3J5SWRzKSB7XG4gICAgICBxdWVyeS5jYXRlZ29yaWVzID0geyAkaW46IHF1ZXJ5Q2F0ZWdvcnlJZHMuc3BsaXQoXCIsXCIpIH07XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIGJ5IGJyYW5kIElEc1xuICAgIGlmIChxdWVyeUJyYW5kSWRzKSB7XG4gICAgICBxdWVyeS5icmFuZF9pZCA9IHsgJGluOiBxdWVyeUJyYW5kSWRzLnNwbGl0KFwiLFwiKSB9O1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBieSBzdG9yZSBJRHNcbiAgICBpZiAocXVlcnlTdG9yZUlkcykge1xuICAgICAgcXVlcnkuc3RvcmVfaWQgPSB7ICRpbjogcXVlcnlTdG9yZUlkcy5zcGxpdChcIixcIikubWFwKGlkID0+IHBhcnNlSW50KGlkKSkgfTtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgYnkgcHJvZHVjdCB0eXBlXG4gICAgaWYgKHF1ZXJ5UHJvZHVjdFR5cGUpIHtcbiAgICAgIHF1ZXJ5LnByb2R1Y3RfdHlwZSA9IHF1ZXJ5UHJvZHVjdFR5cGU7XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIGJ5IHN0YXR1c1xuICAgIGlmIChxdWVyeVN0YXR1cykge1xuICAgICAgcXVlcnkuc3RhdHVzID0gcGFyc2VJbnQocXVlcnlTdGF0dXMpO1xuICAgIH1cblxuICAgIC8vIFNlYXJjaCBieSBuYW1lXG4gICAgaWYgKHF1ZXJ5U2VhcmNoKSB7XG4gICAgICBxdWVyeS5uYW1lID0geyAkcmVnZXg6IHF1ZXJ5U2VhcmNoLCAkb3B0aW9uczogJ2knIH07XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgc29ydCBvcHRpb25zXG4gICAgbGV0IHNvcnRPcHRpb25zID0ge307XG4gICAgaWYgKHF1ZXJ5U29ydEJ5ID09PSBcImFzY1wiKSB7XG4gICAgICBzb3J0T3B0aW9ucyA9IHsgX2lkOiAxIH07XG4gICAgfSBlbHNlIGlmIChxdWVyeVNvcnRCeSA9PT0gXCJkZXNjXCIpIHtcbiAgICAgIHNvcnRPcHRpb25zID0geyBfaWQ6IC0xIH07XG4gICAgfSBlbHNlIGlmIChxdWVyeVNvcnRCeSA9PT0gXCJhLXpcIikge1xuICAgICAgc29ydE9wdGlvbnMgPSB7IG5hbWU6IDEgfTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U29ydEJ5ID09PSBcInotYVwiKSB7XG4gICAgICBzb3J0T3B0aW9ucyA9IHsgbmFtZTogLTEgfTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U29ydEJ5ID09PSBcIm5ld2VzdFwiKSB7XG4gICAgICBzb3J0T3B0aW9ucyA9IHsgY3JlYXRlZF9hdDogLTEgfTtcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5U29ydEJ5ID09PSBcIm9sZGVzdFwiKSB7XG4gICAgICBzb3J0T3B0aW9ucyA9IHsgY3JlYXRlZF9hdDogMSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3J0T3B0aW9ucyA9IHsgY3JlYXRlZF9hdDogLTEgfTsgLy8gRGVmYXVsdCBzb3J0XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBxdWVyeSB3aXRoIHBhZ2luYXRpb25cbiAgICBjb25zdCB0b3RhbFByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5jb3VudERvY3VtZW50cyhxdWVyeSk7XG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQocXVlcnkpXG4gICAgICAucG9wdWxhdGUoJ2NhdGVnb3JpZXMnLCAnbmFtZSBzbHVnJylcbiAgICAgIC5wb3B1bGF0ZSgndGFncycsICduYW1lIHNsdWcnKVxuICAgICAgLnBvcHVsYXRlKCdicmFuZF9pZCcsICduYW1lIHNsdWcnKVxuICAgICAgLnNvcnQoc29ydE9wdGlvbnMpXG4gICAgICAuc2tpcCgocXVlcnlQYWdlIC0gMSkgKiBxdWVyeUxpbWl0KVxuICAgICAgLmxpbWl0KHF1ZXJ5TGltaXQpXG4gICAgICAubGVhbigpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHBhZ2luYXRpb24gaW5mb1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgY3VycmVudF9wYWdlOiBxdWVyeVBhZ2UsXG4gICAgICBsYXN0X3BhZ2U6IE1hdGguY2VpbCh0b3RhbFByb2R1Y3RzIC8gcXVlcnlMaW1pdCksXG4gICAgICB0b3RhbDogdG90YWxQcm9kdWN0cyxcbiAgICAgIHBlcl9wYWdlOiBxdWVyeUxpbWl0LFxuICAgICAgZGF0YTogcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gKHtcbiAgICAgICAgLi4ucHJvZHVjdCxcbiAgICAgICAgaWQ6IHByb2R1Y3QuX2lkLnRvU3RyaW5nKCkgLy8gRW5zdXJlIElEIGlzIHN0cmluZ1xuICAgICAgfSkpXG4gICAgfTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhcIlByb2R1Y3QgR0VUIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gZmV0Y2ggcHJvZHVjdHNcIiwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBQT1NUIC9hcGkvcHJvZHVjdCAtIENyZWF0ZSBuZXcgcHJvZHVjdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XG4gIGNvbnNvbGUubG9nKFwiPT09IFBST0RVQ1QgUE9TVCBBUEkgQ0FMTEVEID09PVwiKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuICAgIC8vIENoZWNrIGFkbWluIGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc3QgYXV0aENoZWNrID0gYXdhaXQgcmVxdWlyZUFkbWluKHJlcXVlc3QpO1xuICAgIGlmICghYXV0aENoZWNrLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBhdXRoQ2hlY2suZXJyb3JSZXNwb25zZTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBGb3JtRGF0YVxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIGNvbnNvbGUubG9nKFwi8J+TpSBSZWNlaXZlZCBGb3JtRGF0YVwiKTtcbiAgICBcbiAgICAvLyBFeHRyYWN0IEpTT04gZGF0YSAoc2VudCBhcyBhIHN0cmluZyBpbiAnZGF0YScgZmllbGQpXG4gICAgY29uc3QgcHJvZHVjdERhdGFTdHJpbmcgPSBmb3JtRGF0YS5nZXQoJ2RhdGEnKTtcbiAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHByb2R1Y3REYXRhU3RyaW5nID8gSlNPTi5wYXJzZShwcm9kdWN0RGF0YVN0cmluZykgOiB7fTtcbiAgICBcbiAgICAvLyBFeHRyYWN0IGZpbGVzXG4gICAgY29uc3QgcHJvZHVjdF90aHVtYm5haWxfZmlsZSA9IGZvcm1EYXRhLmdldCgncHJvZHVjdF90aHVtYm5haWwnKTtcbiAgICBjb25zdCBwcm9kdWN0X2dhbGxlcmllc19maWxlcyA9IGZvcm1EYXRhLmdldEFsbCgncHJvZHVjdF9nYWxsZXJpZXMnKTtcbiAgICBjb25zdCBzaXplX2NoYXJ0X2ltYWdlX2ZpbGUgPSBmb3JtRGF0YS5nZXQoJ3NpemVfY2hhcnRfaW1hZ2UnKTtcbiAgICBjb25zdCB3YXRlcm1hcmtfaW1hZ2VfZmlsZSA9IGZvcm1EYXRhLmdldCgnd2F0ZXJtYXJrX2ltYWdlJyk7XG4gICAgY29uc3QgcHJvZHVjdF9tZXRhX2ltYWdlX2ZpbGUgPSBmb3JtRGF0YS5nZXQoJ3Byb2R1Y3RfbWV0YV9pbWFnZScpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwi8J+TnSBQcm9kdWN0IGRhdGE6XCIsIHsgbmFtZTogcHJvZHVjdERhdGEubmFtZSwgc2t1OiBwcm9kdWN0RGF0YS5za3UgfSk7XG4gICAgY29uc29sZS5sb2coXCLwn5OOIEZpbGVzOlwiLCB7XG4gICAgICBwcm9kdWN0X3RodW1ibmFpbDogcHJvZHVjdF90aHVtYm5haWxfZmlsZSA/IHByb2R1Y3RfdGh1bWJuYWlsX2ZpbGUubmFtZSA6ICdub25lJyxcbiAgICAgIHByb2R1Y3RfZ2FsbGVyaWVzOiBwcm9kdWN0X2dhbGxlcmllc19maWxlcy5sZW5ndGgsXG4gICAgICBzaXplX2NoYXJ0X2ltYWdlOiBzaXplX2NoYXJ0X2ltYWdlX2ZpbGUgPyBzaXplX2NoYXJ0X2ltYWdlX2ZpbGUubmFtZSA6ICdub25lJyxcbiAgICAgIHdhdGVybWFya19pbWFnZTogd2F0ZXJtYXJrX2ltYWdlX2ZpbGUgPyB3YXRlcm1hcmtfaW1hZ2VfZmlsZS5uYW1lIDogJ25vbmUnLFxuICAgICAgcHJvZHVjdF9tZXRhX2ltYWdlOiBwcm9kdWN0X21ldGFfaW1hZ2VfZmlsZSA/IHByb2R1Y3RfbWV0YV9pbWFnZV9maWxlLm5hbWUgOiAnbm9uZSdcbiAgICB9KTtcblxuICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBTS1UgaWYgbm90IHByb3ZpZGVkXG4gICAgaWYgKCFwcm9kdWN0RGF0YS5za3UpIHtcbiAgICAgIHByb2R1Y3REYXRhLnNrdSA9IGBTS1UtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHNsdWcgZnJvbSBuYW1lIGlmIG5vdCBwcm92aWRlZFxuICAgIGlmICghcHJvZHVjdERhdGEuc2x1ZyAmJiBwcm9kdWN0RGF0YS5uYW1lKSB7XG4gICAgICBwcm9kdWN0RGF0YS5zbHVnID0gcHJvZHVjdERhdGEubmFtZVxuICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXG4gICAgICAgIC5yZXBsYWNlKC8oXi18LSQpL2csICcnKTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHNsdWcgdW5pcXVlbmVzc1xuICAgICAgY29uc3QgZXhpc3RpbmdTbHVnID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgc2x1ZzogcHJvZHVjdERhdGEuc2x1ZyB9KTtcbiAgICAgIGlmIChleGlzdGluZ1NsdWcpIHtcbiAgICAgICAgcHJvZHVjdERhdGEuc2x1ZyA9IGAke3Byb2R1Y3REYXRhLnNsdWd9LSR7RGF0ZS5ub3coKX1gO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlc1xuICAgIHByb2R1Y3REYXRhLnN0YXR1cyA9IHByb2R1Y3REYXRhLnN0YXR1cyB8fCAxO1xuICAgIHByb2R1Y3REYXRhLmNyZWF0ZWRfYnlfaWQgPSBhdXRoQ2hlY2suYXV0aERhdGEudXNlcklkIHx8IFwiYWRtaW5cIjtcbiAgICBcbiAgICAvLyBBdXRvLWluY3JlbWVudCBJRCBmb3IgY29tcGF0aWJpbGl0eVxuICAgIGNvbnN0IGxhc3RQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKCkuc29ydCh7IGlkOiAtMSB9KS5zZWxlY3QoJ2lkJyk7XG4gICAgcHJvZHVjdERhdGEuaWQgPSBsYXN0UHJvZHVjdCA/IGxhc3RQcm9kdWN0LmlkICsgMSA6IDE7XG5cbiAgICAvLyBQcm9jZXNzIGZpbGUgdXBsb2Fkc1xuICAgIGxldCBwcm9kdWN0X3RodW1ibmFpbF91cmwgPSBudWxsO1xuICAgIGxldCBwcm9kdWN0X2dhbGxlcmllc191cmxzID0gW107XG4gICAgbGV0IHNpemVfY2hhcnRfaW1hZ2VfdXJsID0gbnVsbDtcbiAgICBsZXQgd2F0ZXJtYXJrX2ltYWdlID0gbnVsbDtcbiAgICBsZXQgcHJvZHVjdF9tZXRhX2ltYWdlX3VybCA9IG51bGw7XG5cbiAgICAvLyBDcmVhdGUgdGVtcCBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGNvbnN0IHVwbG9hZERpciA9IGpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3VwbG9hZHMnLCAndGVtcCcpO1xuICAgIGlmICghZXhpc3RzU3luYyh1cGxvYWREaXIpKSB7XG4gICAgICBhd2FpdCBta2Rpcih1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBVcGxvYWQgcHJvZHVjdF90aHVtYm5haWxcbiAgICAgIGlmIChwcm9kdWN0X3RodW1ibmFpbF9maWxlICYmIHByb2R1Y3RfdGh1bWJuYWlsX2ZpbGUuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLimIHvuI8gVXBsb2FkaW5nIHByb2R1Y3RfdGh1bWJuYWlsIHRvIENsb3VkaW5hcnkuLi5cIik7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgcHJvZHVjdF90aHVtYm5haWxfZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgIGNvbnN0IHRlbXBQYXRoID0gam9pbih1cGxvYWREaXIsIGBwcm9kdWN0LXRodW1iLSR7RGF0ZS5ub3coKX0ke3BhdGguZXh0bmFtZShwcm9kdWN0X3RodW1ibmFpbF9maWxlLm5hbWUpfWApO1xuICAgICAgICBhd2FpdCB3cml0ZUZpbGUodGVtcFBhdGgsIGJ1ZmZlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGxvYWRSZXN1bHQgPSBhd2FpdCB1cGxvYWRUb0Nsb3VkaW5hcnkoW3tcbiAgICAgICAgICBwYXRoOiB0ZW1wUGF0aCxcbiAgICAgICAgICBvcmlnaW5hbG5hbWU6IHByb2R1Y3RfdGh1bWJuYWlsX2ZpbGUubmFtZVxuICAgICAgICB9XSwgJ3Byb2R1Y3RzJyk7XG4gICAgICAgIFxuICAgICAgICBwcm9kdWN0X3RodW1ibmFpbF91cmwgPSB1cGxvYWRSZXN1bHRbMF0uc2VjdXJlX3VybDtcbiAgICAgICAgY29uc29sZS5sb2coXCLinIUgUHJvZHVjdCB0aHVtYm5haWwgdXBsb2FkZWQ6XCIsIHByb2R1Y3RfdGh1bWJuYWlsX3VybCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwbG9hZCBzaXplX2NoYXJ0X2ltYWdlXG4gICAgICBpZiAoc2l6ZV9jaGFydF9pbWFnZV9maWxlICYmIHNpemVfY2hhcnRfaW1hZ2VfZmlsZS5zaXplID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKYge+4jyBVcGxvYWRpbmcgc2l6ZV9jaGFydF9pbWFnZSB0byBDbG91ZGluYXJ5Li4uXCIpO1xuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IHNpemVfY2hhcnRfaW1hZ2VfZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgIGNvbnN0IHRlbXBQYXRoID0gam9pbih1cGxvYWREaXIsIGBzaXplLWNoYXJ0LSR7RGF0ZS5ub3coKX0ke3BhdGguZXh0bmFtZShzaXplX2NoYXJ0X2ltYWdlX2ZpbGUubmFtZSl9YCk7XG4gICAgICAgIGF3YWl0IHdyaXRlRmlsZSh0ZW1wUGF0aCwgYnVmZmVyKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHVwbG9hZFRvQ2xvdWRpbmFyeShbe1xuICAgICAgICAgIHBhdGg6IHRlbXBQYXRoLFxuICAgICAgICAgIG9yaWdpbmFsbmFtZTogc2l6ZV9jaGFydF9pbWFnZV9maWxlLm5hbWVcbiAgICAgICAgfV0sICdwcm9kdWN0cycpO1xuICAgICAgICBcbiAgICAgICAgc2l6ZV9jaGFydF9pbWFnZV91cmwgPSB1cGxvYWRSZXN1bHRbMF0uc2VjdXJlX3VybDtcbiAgICAgICAgY29uc29sZS5sb2coXCLinIUgU2l6ZSBjaGFydCBpbWFnZSB1cGxvYWRlZDpcIiwgc2l6ZV9jaGFydF9pbWFnZV91cmwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVcGxvYWQgd2F0ZXJtYXJrX2ltYWdlXG4gICAgICBpZiAod2F0ZXJtYXJrX2ltYWdlX2ZpbGUgJiYgd2F0ZXJtYXJrX2ltYWdlX2ZpbGUuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLimIHvuI8gVXBsb2FkaW5nIHdhdGVybWFya19pbWFnZSB0byBDbG91ZGluYXJ5Li4uXCIpO1xuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IHdhdGVybWFya19pbWFnZV9maWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgICAgICAgY29uc3QgdGVtcFBhdGggPSBqb2luKHVwbG9hZERpciwgYHdhdGVybWFyay0ke0RhdGUubm93KCl9JHtwYXRoLmV4dG5hbWUod2F0ZXJtYXJrX2ltYWdlX2ZpbGUubmFtZSl9YCk7XG4gICAgICAgIGF3YWl0IHdyaXRlRmlsZSh0ZW1wUGF0aCwgYnVmZmVyKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHVwbG9hZFRvQ2xvdWRpbmFyeShbe1xuICAgICAgICAgIHBhdGg6IHRlbXBQYXRoLFxuICAgICAgICAgIG9yaWdpbmFsbmFtZTogd2F0ZXJtYXJrX2ltYWdlX2ZpbGUubmFtZVxuICAgICAgICB9XSwgJ3Byb2R1Y3RzJyk7XG4gICAgICAgIFxuICAgICAgICB3YXRlcm1hcmtfaW1hZ2UgPSB1cGxvYWRSZXN1bHRbMF0uc2VjdXJlX3VybDtcbiAgICAgICAgY29uc29sZS5sb2coXCLinIUgV2F0ZXJtYXJrIGltYWdlIHVwbG9hZGVkOlwiLCB3YXRlcm1hcmtfaW1hZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVcGxvYWQgcHJvZHVjdF9tZXRhX2ltYWdlXG4gICAgICBpZiAocHJvZHVjdF9tZXRhX2ltYWdlX2ZpbGUgJiYgcHJvZHVjdF9tZXRhX2ltYWdlX2ZpbGUuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLimIHvuI8gVXBsb2FkaW5nIHByb2R1Y3RfbWV0YV9pbWFnZSB0byBDbG91ZGluYXJ5Li4uXCIpO1xuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IHByb2R1Y3RfbWV0YV9pbWFnZV9maWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgICAgICAgY29uc3QgdGVtcFBhdGggPSBqb2luKHVwbG9hZERpciwgYG1ldGEtaW1hZ2UtJHtEYXRlLm5vdygpfSR7cGF0aC5leHRuYW1lKHByb2R1Y3RfbWV0YV9pbWFnZV9maWxlLm5hbWUpfWApO1xuICAgICAgICBhd2FpdCB3cml0ZUZpbGUodGVtcFBhdGgsIGJ1ZmZlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGxvYWRSZXN1bHQgPSBhd2FpdCB1cGxvYWRUb0Nsb3VkaW5hcnkoW3tcbiAgICAgICAgICBwYXRoOiB0ZW1wUGF0aCxcbiAgICAgICAgICBvcmlnaW5hbG5hbWU6IHByb2R1Y3RfbWV0YV9pbWFnZV9maWxlLm5hbWVcbiAgICAgICAgfV0sICdwcm9kdWN0cycpO1xuICAgICAgICBcbiAgICAgICAgcHJvZHVjdF9tZXRhX2ltYWdlX3VybCA9IHVwbG9hZFJlc3VsdFswXS5zZWN1cmVfdXJsO1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBQcm9kdWN0IG1ldGEgaW1hZ2UgdXBsb2FkZWQ6XCIsIHByb2R1Y3RfbWV0YV9pbWFnZV91cmwpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGxvYWQgcHJvZHVjdF9nYWxsZXJpZXNcbiAgICAgIGlmIChwcm9kdWN0X2dhbGxlcmllc19maWxlcyAmJiBwcm9kdWN0X2dhbGxlcmllc19maWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDimIHvuI8gVXBsb2FkaW5nICR7cHJvZHVjdF9nYWxsZXJpZXNfZmlsZXMubGVuZ3RofSBnYWxsZXJ5IGltYWdlcyB0byBDbG91ZGluYXJ5Li4uYCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGdhbGxlcnlGaWxlIG9mIHByb2R1Y3RfZ2FsbGVyaWVzX2ZpbGVzKSB7XG4gICAgICAgICAgaWYgKGdhbGxlcnlGaWxlICYmIGdhbGxlcnlGaWxlLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IGdhbGxlcnlGaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgICAgICBjb25zdCB0ZW1wUGF0aCA9IGpvaW4odXBsb2FkRGlyLCBgcHJvZHVjdC1nYWxsZXJ5LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9JHtwYXRoLmV4dG5hbWUoZ2FsbGVyeUZpbGUubmFtZSl9YCk7XG4gICAgICAgICAgICBhd2FpdCB3cml0ZUZpbGUodGVtcFBhdGgsIGJ1ZmZlcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHVwbG9hZFRvQ2xvdWRpbmFyeShbe1xuICAgICAgICAgICAgICBwYXRoOiB0ZW1wUGF0aCxcbiAgICAgICAgICAgICAgb3JpZ2luYWxuYW1lOiBnYWxsZXJ5RmlsZS5uYW1lXG4gICAgICAgICAgICB9XSwgJ3Byb2R1Y3RzJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb2R1Y3RfZ2FsbGVyaWVzX3VybHMucHVzaCh1cGxvYWRSZXN1bHRbMF0uc2VjdXJlX3VybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgVXBsb2FkZWQgJHtwcm9kdWN0X2dhbGxlcmllc191cmxzLmxlbmd0aH0gZ2FsbGVyeSBpbWFnZXNgKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBsb2FkIHZhcmlhdGlvbiBpbWFnZXMgaWYgcHJlc2VudFxuICAgICAgaWYgKHByb2R1Y3REYXRhLnZhcmlhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShwcm9kdWN0RGF0YS52YXJpYXRpb25zKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3REYXRhLnZhcmlhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB2YXJpYXRpb25JbWFnZUZpbGUgPSBmb3JtRGF0YS5nZXQoYHZhcmlhdGlvbl9pbWFnZV8ke2l9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHZhcmlhdGlvbkltYWdlRmlsZSAmJiB2YXJpYXRpb25JbWFnZUZpbGUuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDimIHvuI8gVXBsb2FkaW5nIHZhcmlhdGlvbiAke2l9IGltYWdlIHRvIENsb3VkaW5hcnkuLi5gKTtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgdmFyaWF0aW9uSW1hZ2VGaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgICAgICBjb25zdCB0ZW1wUGF0aCA9IGpvaW4odXBsb2FkRGlyLCBgdmFyaWF0aW9uLSR7RGF0ZS5ub3coKX0tJHtpfSR7cGF0aC5leHRuYW1lKHZhcmlhdGlvbkltYWdlRmlsZS5uYW1lKX1gKTtcbiAgICAgICAgICAgIGF3YWl0IHdyaXRlRmlsZSh0ZW1wUGF0aCwgYnVmZmVyKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgdXBsb2FkVG9DbG91ZGluYXJ5KFt7XG4gICAgICAgICAgICAgIHBhdGg6IHRlbXBQYXRoLFxuICAgICAgICAgICAgICBvcmlnaW5hbG5hbWU6IHZhcmlhdGlvbkltYWdlRmlsZS5uYW1lXG4gICAgICAgICAgICB9XSwgJ3Byb2R1Y3RzL3ZhcmlhdGlvbnMnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvZHVjdERhdGEudmFyaWF0aW9uc1tpXS52YXJpYXRpb25faW1hZ2UgPSB1cGxvYWRSZXN1bHRbMF0uc2VjdXJlX3VybDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgVmFyaWF0aW9uICR7aX0gaW1hZ2UgdXBsb2FkZWRgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoICh1cGxvYWRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBVcGxvYWQgZXJyb3I6XCIsIHVwbG9hZEVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byB1cGxvYWQgaW1hZ2VzXCIsXG4gICAgICAgIGVycm9yOiB1cGxvYWRFcnJvci5tZXNzYWdlXG4gICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCB1cGxvYWRlZCBVUkxzIGluIHByb2R1Y3QgZGF0YVxuICAgIHByb2R1Y3REYXRhLnByb2R1Y3RfdGh1bWJuYWlsID0gcHJvZHVjdF90aHVtYm5haWxfdXJsO1xuICAgIHByb2R1Y3REYXRhLnByb2R1Y3RfZ2FsbGVyaWVzID0gcHJvZHVjdF9nYWxsZXJpZXNfdXJscztcbiAgICBwcm9kdWN0RGF0YS5zaXplX2NoYXJ0X2ltYWdlID0gc2l6ZV9jaGFydF9pbWFnZV91cmw7XG4gICAgcHJvZHVjdERhdGEud2F0ZXJtYXJrX2ltYWdlID0gd2F0ZXJtYXJrX2ltYWdlO1xuICAgIHByb2R1Y3REYXRhLnByb2R1Y3RfbWV0YV9pbWFnZSA9IHByb2R1Y3RfbWV0YV9pbWFnZV91cmw7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHByb2R1Y3RcbiAgICBjb25zdCBuZXdQcm9kdWN0ID0gbmV3IFByb2R1Y3QocHJvZHVjdERhdGEpO1xuICAgIGF3YWl0IG5ld1Byb2R1Y3Quc2F2ZSgpO1xuICAgIGNvbnNvbGUubG9nKFwi4pyFIFByb2R1Y3QgY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICAvLyBQb3B1bGF0ZSByZWxhdGlvbnMgZm9yIHJlc3BvbnNlXG4gICAgY29uc3QgcG9wdWxhdGVkUHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQobmV3UHJvZHVjdC5faWQpXG4gICAgICAucG9wdWxhdGUoJ2NhdGVnb3JpZXMnLCAnbmFtZSBzbHVnJylcbiAgICAgIC5wb3B1bGF0ZSgndGFncycsICduYW1lIHNsdWcnKVxuICAgICAgLnBvcHVsYXRlKCdicmFuZF9pZCcsICduYW1lIHNsdWcnKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICBkYXRhOiBwb3B1bGF0ZWRQcm9kdWN0XG4gICAgfSwgeyBzdGF0dXM6IDIwMSB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgUHJvZHVjdCBQT1NUIGVycm9yOlwiLCBlcnJvcik7XG4gICAgXG4gICAgLy8gSGFuZGxlIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdWYWxpZGF0aW9uRXJyb3InKSB7XG4gICAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3JzID0gT2JqZWN0LnZhbHVlcyhlcnJvci5lcnJvcnMpLm1hcChlcnIgPT4gZXJyLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlZhbGlkYXRpb24gZmFpbGVkXCIsIGVycm9yczogdmFsaWRhdGlvbkVycm9ycyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGR1cGxpY2F0ZSBrZXkgZXJyb3JzXG4gICAgaWYgKGVycm9yLmNvZGUgPT09IDExMDAwKSB7XG4gICAgICBjb25zdCBkdXBsaWNhdGVGaWVsZCA9IE9iamVjdC5rZXlzKGVycm9yLmtleVBhdHRlcm4pWzBdO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBgJHtkdXBsaWNhdGVGaWVsZH0gYWxyZWFkeSBleGlzdHNgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBjcmVhdGUgcHJvZHVjdFwiLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIERFTEVURSAvYXBpL3Byb2R1Y3QgLSBCdWxrIGRlbGV0ZSBwcm9kdWN0c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3QpIHtcbiAgY29uc29sZS5sb2coXCI9PT0gUFJPRFVDVCBCVUxLIERFTEVURSBBUEkgQ0FMTEVEID09PVwiKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuICAgIC8vIENoZWNrIGFkbWluIGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc3QgYXV0aENoZWNrID0gYXdhaXQgcmVxdWlyZUFkbWluKHJlcXVlc3QpO1xuICAgIGlmICghYXV0aENoZWNrLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBhdXRoQ2hlY2suZXJyb3JSZXNwb25zZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGlkcyB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICBpZiAoIWlkcyB8fCAhQXJyYXkuaXNBcnJheShpZHMpIHx8IGlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJQcm9kdWN0IElEcyBhcmUgcmVxdWlyZWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRmluZCBhbGwgcHJvZHVjdHMgdG8gZGVsZXRlXG4gICAgY29uc3QgcHJvZHVjdHNUb0RlbGV0ZSA9IGF3YWl0IFByb2R1Y3QuZmluZCh7IF9pZDogeyAkaW46IGlkcyB9IH0pO1xuICAgIFxuICAgIC8vIENvbGxlY3QgYWxsIGltYWdlcyB0byBkZWxldGUgZnJvbSBDbG91ZGluYXJ5XG4gICAgY29uc3QgaW1hZ2VzVG9EZWxldGUgPSBbXTtcbiAgICBcbiAgICBwcm9kdWN0c1RvRGVsZXRlLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICAvLyBBZGQgcHJvZHVjdCB0aHVtYm5haWxcbiAgICAgIGlmIChwcm9kdWN0LnByb2R1Y3RfdGh1bWJuYWlsKSB7XG4gICAgICAgIGltYWdlc1RvRGVsZXRlLnB1c2gocHJvZHVjdC5wcm9kdWN0X3RodW1ibmFpbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCBwcm9kdWN0IGdhbGxlcmllc1xuICAgICAgaWYgKHByb2R1Y3QucHJvZHVjdF9nYWxsZXJpZXMgJiYgQXJyYXkuaXNBcnJheShwcm9kdWN0LnByb2R1Y3RfZ2FsbGVyaWVzKSkge1xuICAgICAgICBpbWFnZXNUb0RlbGV0ZS5wdXNoKC4uLnByb2R1Y3QucHJvZHVjdF9nYWxsZXJpZXMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgc2l6ZSBjaGFydCBpbWFnZVxuICAgICAgaWYgKHByb2R1Y3Quc2l6ZV9jaGFydF9pbWFnZSkge1xuICAgICAgICBpbWFnZXNUb0RlbGV0ZS5wdXNoKHByb2R1Y3Quc2l6ZV9jaGFydF9pbWFnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCB3YXRlcm1hcmsgaW1hZ2VcbiAgICAgIGlmIChwcm9kdWN0LndhdGVybWFya19pbWFnZSkge1xuICAgICAgICBpbWFnZXNUb0RlbGV0ZS5wdXNoKHByb2R1Y3Qud2F0ZXJtYXJrX2ltYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkIHByb2R1Y3QgbWV0YSBpbWFnZVxuICAgICAgaWYgKHByb2R1Y3QucHJvZHVjdF9tZXRhX2ltYWdlKSB7XG4gICAgICAgIGltYWdlc1RvRGVsZXRlLnB1c2gocHJvZHVjdC5wcm9kdWN0X21ldGFfaW1hZ2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgdmFyaWF0aW9uIGltYWdlc1xuICAgICAgaWYgKHByb2R1Y3QudmFyaWF0aW9ucyAmJiBBcnJheS5pc0FycmF5KHByb2R1Y3QudmFyaWF0aW9ucykpIHtcbiAgICAgICAgcHJvZHVjdC52YXJpYXRpb25zLmZvckVhY2godmFyaWF0aW9uID0+IHtcbiAgICAgICAgICBpZiAodmFyaWF0aW9uLnZhcmlhdGlvbl9pbWFnZSkge1xuICAgICAgICAgICAgaW1hZ2VzVG9EZWxldGUucHVzaCh2YXJpYXRpb24udmFyaWF0aW9uX2ltYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhcmlhdGlvbi52YXJpYXRpb25fZ2FsbGVyaWVzICYmIEFycmF5LmlzQXJyYXkodmFyaWF0aW9uLnZhcmlhdGlvbl9nYWxsZXJpZXMpKSB7XG4gICAgICAgICAgICBpbWFnZXNUb0RlbGV0ZS5wdXNoKC4uLnZhcmlhdGlvbi52YXJpYXRpb25fZ2FsbGVyaWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGVsZXRlIGFsbCBpbWFnZXMgZnJvbSBDbG91ZGluYXJ5XG4gICAgaWYgKGltYWdlc1RvRGVsZXRlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5eR77iPIERlbGV0aW5nICR7aW1hZ2VzVG9EZWxldGUubGVuZ3RofSBpbWFnZXMgZnJvbSBDbG91ZGluYXJ5YCk7XG4gICAgICBmb3IgKGNvbnN0IGltYWdlVXJsIG9mIGltYWdlc1RvRGVsZXRlKSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUZyb21DbG91ZGluYXJ5KGltYWdlVXJsKS5jYXRjaChlcnIgPT4gXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuKaoO+4jyBFcnJvciBkZWxldGluZyBpbWFnZSBmcm9tIENsb3VkaW5hcnk6XCIsIGVycilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEFsbCBpbWFnZXMgZGVsZXRlZCBmcm9tIENsb3VkaW5hcnlcIik7XG4gICAgfVxuXG4gICAgLy8gSGFyZCBkZWxldGUgLSBwZXJtYW5lbnRseSByZW1vdmUgZnJvbSBkYXRhYmFzZVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb2R1Y3QuZGVsZXRlTWFueShcbiAgICAgIHsgX2lkOiB7ICRpbjogaWRzIH0gfVxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIERlbGV0ZWQgJHtyZXN1bHQuZGVsZXRlZENvdW50fSBwcm9kdWN0cyBmcm9tIGRhdGFiYXNlYCk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IGAke3Jlc3VsdC5kZWxldGVkQ291bnR9IHByb2R1Y3RzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5YCxcbiAgICAgIGRlbGV0ZWRfY291bnQ6IHJlc3VsdC5kZWxldGVkQ291bnRcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgUHJvZHVjdCBERUxFVEUgZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBkZWxldGUgcHJvZHVjdHNcIiwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJkYkNvbm5lY3QiLCJQcm9kdWN0IiwiVGFnIiwiQ2F0ZWdvcnkiLCJCcmFuZCIsIkF0dHJpYnV0ZSIsInJlcXVpcmVBZG1pbiIsInVwbG9hZFRvQ2xvdWRpbmFyeSIsImRlbGV0ZUZyb21DbG91ZGluYXJ5Iiwid3JpdGVGaWxlIiwibWtkaXIiLCJqb2luIiwiZXhpc3RzU3luYyIsInBhdGgiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwibmV4dFVybCIsInF1ZXJ5Q2F0ZWdvcnkiLCJnZXQiLCJxdWVyeVNvcnRCeSIsInF1ZXJ5U2VhcmNoIiwicXVlcnlUYWciLCJxdWVyeUlkcyIsInF1ZXJ5QnJhbmRJZHMiLCJxdWVyeVN0b3JlSWRzIiwicXVlcnlQcm9kdWN0VHlwZSIsInF1ZXJ5Q2F0ZWdvcnlJZHMiLCJxdWVyeVN0YXR1cyIsInF1ZXJ5UGFnZSIsInBhcnNlSW50IiwicXVlcnlMaW1pdCIsInF1ZXJ5IiwiX2lkIiwiJGluIiwic3BsaXQiLCJjYXRlZ29yaWVzIiwiYnJhbmRfaWQiLCJzdG9yZV9pZCIsIm1hcCIsImlkIiwicHJvZHVjdF90eXBlIiwic3RhdHVzIiwibmFtZSIsIiRyZWdleCIsIiRvcHRpb25zIiwic29ydE9wdGlvbnMiLCJjcmVhdGVkX2F0IiwidG90YWxQcm9kdWN0cyIsImNvdW50RG9jdW1lbnRzIiwicHJvZHVjdHMiLCJmaW5kIiwicG9wdWxhdGUiLCJzb3J0Iiwic2tpcCIsImxpbWl0IiwibGVhbiIsInJlc3BvbnNlIiwiY3VycmVudF9wYWdlIiwibGFzdF9wYWdlIiwiTWF0aCIsImNlaWwiLCJ0b3RhbCIsInBlcl9wYWdlIiwiZGF0YSIsInByb2R1Y3QiLCJ0b1N0cmluZyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzdWNjZXNzIiwibWVzc2FnZSIsIlBPU1QiLCJhdXRoQ2hlY2siLCJlcnJvclJlc3BvbnNlIiwiZm9ybURhdGEiLCJwcm9kdWN0RGF0YVN0cmluZyIsInByb2R1Y3REYXRhIiwiSlNPTiIsInBhcnNlIiwicHJvZHVjdF90aHVtYm5haWxfZmlsZSIsInByb2R1Y3RfZ2FsbGVyaWVzX2ZpbGVzIiwiZ2V0QWxsIiwic2l6ZV9jaGFydF9pbWFnZV9maWxlIiwid2F0ZXJtYXJrX2ltYWdlX2ZpbGUiLCJwcm9kdWN0X21ldGFfaW1hZ2VfZmlsZSIsInNrdSIsInByb2R1Y3RfdGh1bWJuYWlsIiwicHJvZHVjdF9nYWxsZXJpZXMiLCJsZW5ndGgiLCJzaXplX2NoYXJ0X2ltYWdlIiwid2F0ZXJtYXJrX2ltYWdlIiwicHJvZHVjdF9tZXRhX2ltYWdlIiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInN1YnN0ciIsInNsdWciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJleGlzdGluZ1NsdWciLCJmaW5kT25lIiwiY3JlYXRlZF9ieV9pZCIsImF1dGhEYXRhIiwidXNlcklkIiwibGFzdFByb2R1Y3QiLCJzZWxlY3QiLCJwcm9kdWN0X3RodW1ibmFpbF91cmwiLCJwcm9kdWN0X2dhbGxlcmllc191cmxzIiwic2l6ZV9jaGFydF9pbWFnZV91cmwiLCJwcm9kdWN0X21ldGFfaW1hZ2VfdXJsIiwidXBsb2FkRGlyIiwicHJvY2VzcyIsImN3ZCIsInJlY3Vyc2l2ZSIsInNpemUiLCJieXRlcyIsImFycmF5QnVmZmVyIiwiYnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInRlbXBQYXRoIiwiZXh0bmFtZSIsInVwbG9hZFJlc3VsdCIsIm9yaWdpbmFsbmFtZSIsInNlY3VyZV91cmwiLCJnYWxsZXJ5RmlsZSIsInB1c2giLCJ2YXJpYXRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsInZhcmlhdGlvbkltYWdlRmlsZSIsInZhcmlhdGlvbl9pbWFnZSIsInVwbG9hZEVycm9yIiwibmV3UHJvZHVjdCIsInNhdmUiLCJwb3B1bGF0ZWRQcm9kdWN0IiwiZmluZEJ5SWQiLCJ2YWxpZGF0aW9uRXJyb3JzIiwiT2JqZWN0IiwidmFsdWVzIiwiZXJyb3JzIiwiZXJyIiwiY29kZSIsImR1cGxpY2F0ZUZpZWxkIiwia2V5cyIsImtleVBhdHRlcm4iLCJERUxFVEUiLCJpZHMiLCJwcm9kdWN0c1RvRGVsZXRlIiwiaW1hZ2VzVG9EZWxldGUiLCJmb3JFYWNoIiwidmFyaWF0aW9uIiwidmFyaWF0aW9uX2dhbGxlcmllcyIsImltYWdlVXJsIiwiY2F0Y2giLCJyZXN1bHQiLCJkZWxldGVNYW55IiwiZGVsZXRlZENvdW50IiwiZGVsZXRlZF9jb3VudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/product/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/dbConnect.js":
/*!******************************!*\
  !*** ./src/lib/dbConnect.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connection = {};\nasync function dbConnect() {\n    //  Check mongoose's actual connection state (not local variable)\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 1) {\n        console.log(\"Already connected to the database\");\n        return;\n    }\n    //  Wait if connection is in progress\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 2) {\n        console.log(\"Connection in progress, waiting...\");\n        return new Promise((resolve)=>{\n            mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.once('connected', resolve);\n            mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.once('error', resolve);\n        });\n    }\n    try {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGO_URI || \"\");\n        connection.isConnected = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 1;\n        console.log(\"Connected to the database\");\n    } catch (err) {\n        console.error(\"Database connection error:\", err);\n        throw err; // Let Next.js handle it, don't exit process\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiQ29ubmVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFHaEMsTUFBTUMsYUFBYSxDQUFDO0FBRXBCLGVBQWVDO0lBQ1gsa0VBQWtFO0lBQ2xFLElBQUlGLDREQUFtQixDQUFDRyxVQUFVLEtBQUssR0FBRztRQUN0Q0MsUUFBUUMsR0FBRyxDQUFDO1FBQ1o7SUFDSjtJQUVBLHNDQUFzQztJQUN0QyxJQUFJTCw0REFBbUIsQ0FBQ0csVUFBVSxLQUFLLEdBQUc7UUFDdENDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU8sSUFBSUMsUUFBUSxDQUFDQztZQUNoQlAsMERBQW1CLENBQUNRLElBQUksQ0FBQyxhQUFhRDtZQUN0Q1AsMERBQW1CLENBQUNRLElBQUksQ0FBQyxTQUFTRDtRQUN0QztJQUNKO0lBRUEsSUFBRztRQUNDLE1BQU1QLHVEQUFnQixDQUFDVSxRQUFRQyxHQUFHLENBQUNDLFNBQVMsSUFBSTtRQUNoRFgsV0FBV1ksV0FBVyxHQUFHYiw0REFBbUIsQ0FBQ0csVUFBVSxLQUFLO1FBQzVEQyxRQUFRQyxHQUFHLENBQUM7SUFDaEIsRUFDQSxPQUFNUyxLQUFJO1FBQ05WLFFBQVFXLEtBQUssQ0FBQyw4QkFBOEJEO1FBQzVDLE1BQU1BLEtBQUssNENBQTRDO0lBQzNEO0FBQ0o7QUFFQSxpRUFBZVosU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCaXN3YWplZXRcXE9uZURyaXZlXFxEZXNrdG9wXFxBTExGcmVlbGFuY2VcXG11bHRpa2FydC1hZG1pblxcc3JjXFxsaWJcXGRiQ29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5cclxuY29uc3QgY29ubmVjdGlvbiA9IHt9O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCl7XHJcbiAgICAvLyDinIUgQ2hlY2sgbW9uZ29vc2UncyBhY3R1YWwgY29ubmVjdGlvbiBzdGF0ZSAobm90IGxvY2FsIHZhcmlhYmxlKVxyXG4gICAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBjb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyDinIUgV2FpdCBpZiBjb25uZWN0aW9uIGlzIGluIHByb2dyZXNzXHJcbiAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSAyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0aW9uIGluIHByb2dyZXNzLCB3YWl0aW5nLi4uXCIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLm9uY2UoJ2Nvbm5lY3RlZCcsIHJlc29sdmUpO1xyXG4gICAgICAgICAgICBtb25nb29zZS5jb25uZWN0aW9uLm9uY2UoJ2Vycm9yJywgcmVzb2x2ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5e1xyXG4gICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJJIHx8IFwiXCIpO1xyXG4gICAgICAgIGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQgPSBtb25nb29zZS5jb25uZWN0aW9uLnJlYWR5U3RhdGUgPT09IDE7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlXCIpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjpcIiwgZXJyKTtcclxuICAgICAgICB0aHJvdyBlcnI7IC8vIExldCBOZXh0LmpzIGhhbmRsZSBpdCwgZG9uJ3QgZXhpdCBwcm9jZXNzXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25uZWN0aW9uIiwiZGJDb25uZWN0IiwicmVhZHlTdGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9uY2UiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPX1VSSSIsImlzQ29ubmVjdGVkIiwiZXJyIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/dbConnect.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Attributes.js":
/*!**********************************!*\
  !*** ./src/models/Attributes.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AttributeValue: () => (/* binding */ AttributeValue),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst attributeValueSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    value: {\n        type: String,\n        required: true\n    },\n    hex_color: {\n        type: String,\n        default: null\n    },\n    slug: {\n        type: String,\n        required: true\n    }\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    }\n});\nconst attributeSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    style: {\n        type: String,\n        enum: [\n            'rectangle',\n            'circle',\n            'image',\n            'radio',\n            'dropdown',\n            'color'\n        ],\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    status: {\n        type: Number,\n        default: 1\n    },\n    attribute_values: [\n        attributeValueSchema\n    ]\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    }\n});\nconst Attribute = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Attribute || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Attribute', attributeSchema);\nconst AttributeValue = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).AttributeValue || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('AttributeValue', attributeValueSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Attribute);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL0F0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyx1QkFBdUIsSUFBSUQsd0RBQWUsQ0FBQztJQUMvQ0csT0FBTztRQUNMQyxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUMsV0FBVztRQUNUSCxNQUFNQztRQUNORyxTQUFTO0lBQ1g7SUFDQUMsTUFBTTtRQUNKTCxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7QUFDRixHQUFHO0lBQ0RJLFlBQVk7UUFBRUMsV0FBVztRQUFjQyxXQUFXO0lBQWE7QUFDakU7QUFFQSxNQUFNQyxrQkFBa0IsSUFBSWIsd0RBQWUsQ0FBQztJQUMxQ2MsTUFBTTtRQUNKVixNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQVMsT0FBTztRQUNMWCxNQUFNQztRQUNOVyxNQUFNO1lBQUM7WUFBYTtZQUFVO1lBQVE7WUFBUztZQUFXO1NBQVE7UUFDbEVWLFVBQVU7SUFDWjtJQUNBRyxNQUFNO1FBQ0pMLE1BQU1DO1FBQ05DLFVBQVU7UUFDVlcsUUFBUTtJQUNWO0lBQ0FDLFFBQVE7UUFDTmQsTUFBTWU7UUFDTlgsU0FBUztJQUNYO0lBQ0FZLGtCQUFrQjtRQUFDbkI7S0FBcUI7QUFDMUMsR0FBRztJQUNEUyxZQUFZO1FBQUVDLFdBQVc7UUFBY0MsV0FBVztJQUFhO0FBQ2pFO0FBRUEsTUFBTVMsWUFBWXJCLHdEQUFlLENBQUNxQixTQUFTLElBQUlyQixxREFBYyxDQUFDLGFBQWFhO0FBRXBFLE1BQU1XLGlCQUFpQnhCLHdEQUFlLENBQUN3QixjQUFjLElBQUl4QixxREFBYyxDQUFDLGtCQUFrQkMsc0JBQXNCO0FBQ3ZILGlFQUFlb0IsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCaXN3YWplZXRcXE9uZURyaXZlXFxEZXNrdG9wXFxBTExGcmVlbGFuY2VcXG11bHRpa2FydC1hZG1pblxcc3JjXFxtb2RlbHNcXEF0dHJpYnV0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IGF0dHJpYnV0ZVZhbHVlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdmFsdWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBoZXhfY29sb3I6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHNsdWc6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfVxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogeyBjcmVhdGVkQXQ6ICdjcmVhdGVkX2F0JywgdXBkYXRlZEF0OiAndXBkYXRlZF9hdCcgfVxyXG59KTtcclxuXHJcbmNvbnN0IGF0dHJpYnV0ZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzdHlsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydyZWN0YW5nbGUnLCAnY2lyY2xlJywgJ2ltYWdlJywncmFkaW8nLCAnZHJvcGRvd24nLCdjb2xvciddLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIHNsdWc6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDFcclxuICB9LFxyXG4gIGF0dHJpYnV0ZV92YWx1ZXM6IFthdHRyaWJ1dGVWYWx1ZVNjaGVtYV1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH1cclxufSk7XHJcblxyXG5jb25zdCBBdHRyaWJ1dGUgPSBtb25nb29zZS5tb2RlbHMuQXR0cmlidXRlIHx8IG1vbmdvb3NlLm1vZGVsKCdBdHRyaWJ1dGUnLCBhdHRyaWJ1dGVTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF0dHJpYnV0ZVZhbHVlID0gbW9uZ29vc2UubW9kZWxzLkF0dHJpYnV0ZVZhbHVlIHx8IG1vbmdvb3NlLm1vZGVsKCdBdHRyaWJ1dGVWYWx1ZScsIGF0dHJpYnV0ZVZhbHVlU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRlOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImF0dHJpYnV0ZVZhbHVlU2NoZW1hIiwiU2NoZW1hIiwidmFsdWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJoZXhfY29sb3IiLCJkZWZhdWx0Iiwic2x1ZyIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJhdHRyaWJ1dGVTY2hlbWEiLCJuYW1lIiwic3R5bGUiLCJlbnVtIiwidW5pcXVlIiwic3RhdHVzIiwiTnVtYmVyIiwiYXR0cmlidXRlX3ZhbHVlcyIsIkF0dHJpYnV0ZSIsIm1vZGVscyIsIm1vZGVsIiwiQXR0cmlidXRlVmFsdWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Attributes.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Brand.js":
/*!*****************************!*\
  !*** ./src/models/Brand.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst brandSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    brand_image: {\n        type: String,\n        default: null\n    },\n    brand_meta_image: {\n        type: String,\n        default: null\n    },\n    meta_title: String,\n    meta_description: String,\n    brand_banner: {\n        type: String,\n        default: null\n    },\n    status: {\n        type: Number,\n        default: 1\n    },\n    created_at: {\n        type: Date,\n        default: Date.now\n    },\n    updated_at: {\n        type: Date,\n        default: Date.now\n    },\n    deleted_at: {\n        type: Date,\n        default: null\n    }\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    },\n    toJSON: {\n        virtuals: true\n    },\n    toObject: {\n        virtuals: true\n    }\n});\n// Add virtual for ID (to match frontend expectations)\nbrandSchema.virtual('id').get(function() {\n    return this._id.toHexString();\n});\nconst Brand = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Brand || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Brand', brandSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Brand);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL0JyYW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjLElBQUlELHdEQUFlLENBQUM7SUFFdENHLE1BQU07UUFDSkMsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FDLE1BQU07UUFDSkgsTUFBTUM7UUFDTkMsVUFBVTtRQUNWRSxRQUFRO0lBQ1Y7SUFDQUMsYUFBYTtRQUNYTCxNQUFNQztRQUNOSyxTQUFTO0lBQ1g7SUFDQUMsa0JBQWtCO1FBQ2hCUCxNQUFNQztRQUNOSyxTQUFTO0lBQ1g7SUFDQUUsWUFBWVA7SUFDWlEsa0JBQWtCUjtJQUNsQlMsY0FBYztRQUNaVixNQUFNQztRQUNOSyxTQUFTO0lBQ1g7SUFDQUssUUFBUTtRQUNOWCxNQUFNWTtRQUNOTixTQUFTO0lBQ1g7SUFDQU8sWUFBWTtRQUNWYixNQUFNYztRQUNOUixTQUFTUSxLQUFLQyxHQUFHO0lBQ25CO0lBQ0FDLFlBQVk7UUFDVmhCLE1BQU1jO1FBQ05SLFNBQVNRLEtBQUtDLEdBQUc7SUFDbkI7SUFDQUUsWUFBWTtRQUNWakIsTUFBTWM7UUFDTlIsU0FBUztJQUNYO0FBQ0YsR0FBRztJQUNEWSxZQUFZO1FBQUVDLFdBQVc7UUFBY0MsV0FBVztJQUFhO0lBQy9EQyxRQUFRO1FBQUVDLFVBQVU7SUFBSztJQUN6QkMsVUFBVTtRQUFFRCxVQUFVO0lBQUs7QUFDN0I7QUFFQSxzREFBc0Q7QUFDdER6QixZQUFZMkIsT0FBTyxDQUFDLE1BQU1DLEdBQUcsQ0FBQztJQUM1QixPQUFPLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXO0FBQzdCO0FBRUEsTUFBTUMsUUFBUWhDLHdEQUFlLENBQUNnQyxLQUFLLElBQUloQyxxREFBYyxDQUFDLFNBQVNDO0FBQy9ELGlFQUFlK0IsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCaXN3YWplZXRcXE9uZURyaXZlXFxEZXNrdG9wXFxBTExGcmVlbGFuY2VcXG11bHRpa2FydC1hZG1pblxcc3JjXFxtb2RlbHNcXEJyYW5kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBicmFuZFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIFxyXG4gIG5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzbHVnOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZVxyXG4gIH0sXHJcbiAgYnJhbmRfaW1hZ2U6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIGJyYW5kX21ldGFfaW1hZ2U6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIG1ldGFfdGl0bGU6IFN0cmluZyxcclxuICBtZXRhX2Rlc2NyaXB0aW9uOiBTdHJpbmcsXHJcbiAgYnJhbmRfYmFubmVyOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDFcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xyXG4gIH0sXHJcbiAgdXBkYXRlZF9hdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IERhdGUubm93XHJcbiAgfSxcclxuICBkZWxldGVkX2F0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH0sXHJcbiAgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0sXHJcbiAgdG9PYmplY3Q6IHsgdmlydHVhbHM6IHRydWUgfVxyXG59KTtcclxuXHJcbi8vIEFkZCB2aXJ0dWFsIGZvciBJRCAodG8gbWF0Y2ggZnJvbnRlbmQgZXhwZWN0YXRpb25zKVxyXG5icmFuZFNjaGVtYS52aXJ0dWFsKCdpZCcpLmdldChmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5faWQudG9IZXhTdHJpbmcoKTtcclxufSk7XHJcblxyXG5jb25zdCBCcmFuZCA9IG1vbmdvb3NlLm1vZGVscy5CcmFuZCB8fCBtb25nb29zZS5tb2RlbCgnQnJhbmQnLCBicmFuZFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEJyYW5kOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImJyYW5kU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInNsdWciLCJ1bmlxdWUiLCJicmFuZF9pbWFnZSIsImRlZmF1bHQiLCJicmFuZF9tZXRhX2ltYWdlIiwibWV0YV90aXRsZSIsIm1ldGFfZGVzY3JpcHRpb24iLCJicmFuZF9iYW5uZXIiLCJzdGF0dXMiLCJOdW1iZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsInVwZGF0ZWRfYXQiLCJkZWxldGVkX2F0IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInRvSlNPTiIsInZpcnR1YWxzIiwidG9PYmplY3QiLCJ2aXJ0dWFsIiwiZ2V0IiwiX2lkIiwidG9IZXhTdHJpbmciLCJCcmFuZCIsIm1vZGVscyIsIm1vZGVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Brand.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Category.js":
/*!********************************!*\
  !*** ./src/models/Category.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst categorySchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    description: String,\n    category_image: {\n        type: String,\n        default: null\n    },\n    category_icon: {\n        type: String,\n        default: null\n    },\n    status: {\n        type: Number,\n        default: 1\n    },\n    meta_title: String,\n    meta_description: String,\n    category_meta_image: {\n        type: String,\n        default: null\n    },\n    type: {\n        type: String,\n        enum: [\n            'product',\n            'post'\n        ],\n        default: 'product'\n    },\n    commission_rate: {\n        type: Number,\n        default: null\n    },\n    parent_id: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'Category',\n        default: null\n    },\n    blogs_count: {\n        type: Number,\n        default: 0\n    },\n    products_count: {\n        type: Number,\n        default: 0\n    }\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    }\n});\n// Virtual for subcategories\ncategorySchema.virtual('subcategories', {\n    ref: 'Category',\n    localField: '_id',\n    foreignField: 'parent_id'\n});\ncategorySchema.set('toObject', {\n    virtuals: true\n});\ncategorySchema.set('toJSON', {\n    virtuals: true\n});\nconst Category = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Category || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Category', categorySchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Category);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL0NhdGVnb3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxpQkFBaUIsSUFBSUQsd0RBQWUsQ0FBQztJQUN6Q0csTUFBTTtRQUNKQyxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUMsTUFBTTtRQUNKSCxNQUFNQztRQUNOQyxVQUFVO1FBQ1ZFLFFBQVE7SUFDVjtJQUNBQyxhQUFhSjtJQUNiSyxnQkFBZ0I7UUFDZE4sTUFBTUM7UUFDTk0sU0FBUztJQUNYO0lBQ0FDLGVBQWU7UUFDYlIsTUFBTUM7UUFDTk0sU0FBUztJQUNYO0lBQ0FFLFFBQVE7UUFDTlQsTUFBTVU7UUFDTkgsU0FBUztJQUNYO0lBQ0FJLFlBQVlWO0lBQ1pXLGtCQUFrQlg7SUFDbEJZLHFCQUFxQjtRQUNuQmIsTUFBTUM7UUFDTk0sU0FBUztJQUNYO0lBQ0FQLE1BQU07UUFDSkEsTUFBTUM7UUFDTmEsTUFBTTtZQUFDO1lBQVc7U0FBTztRQUN6QlAsU0FBUztJQUNYO0lBQ0FRLGlCQUFpQjtRQUNmZixNQUFNVTtRQUNOSCxTQUFTO0lBQ1g7SUFDQVMsV0FBVztRQUNUaEIsTUFBTUosd0RBQWUsQ0FBQ3FCLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsS0FBSztRQUNMWixTQUFTO0lBQ1g7SUFDQWEsYUFBYTtRQUNYcEIsTUFBTVU7UUFDTkgsU0FBUztJQUNYO0lBQ0FjLGdCQUFnQjtRQUNkckIsTUFBTVU7UUFDTkgsU0FBUztJQUNYO0FBQ0YsR0FBRztJQUNEZSxZQUFZO1FBQUVDLFdBQVc7UUFBY0MsV0FBVztJQUFhO0FBQ2pFO0FBRUEsNEJBQTRCO0FBQzVCM0IsZUFBZTRCLE9BQU8sQ0FBQyxpQkFBaUI7SUFDdENOLEtBQUs7SUFDTE8sWUFBWTtJQUNaQyxjQUFjO0FBQ2hCO0FBSUE5QixlQUFlK0IsR0FBRyxDQUFDLFlBQVk7SUFBRUMsVUFBVTtBQUFLO0FBQ2hEaEMsZUFBZStCLEdBQUcsQ0FBQyxVQUFVO0lBQUVDLFVBQVU7QUFBSztBQUU5QyxNQUFNQyxXQUFXbEMsd0RBQWUsQ0FBQ2tDLFFBQVEsSUFBSWxDLHFEQUFjLENBQUMsWUFBWUM7QUFDeEUsaUVBQWVpQyxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJpc3dhamVldFxcT25lRHJpdmVcXERlc2t0b3BcXEFMTEZyZWVsYW5jZVxcbXVsdGlrYXJ0LWFkbWluXFxzcmNcXG1vZGVsc1xcQ2F0ZWdvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IGNhdGVnb3J5U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIHNsdWc6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlXHJcbiAgfSxcclxuICBkZXNjcmlwdGlvbjogU3RyaW5nLFxyXG4gIGNhdGVnb3J5X2ltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBjYXRlZ29yeV9pY29uOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDFcclxuICB9LFxyXG4gIG1ldGFfdGl0bGU6IFN0cmluZyxcclxuICBtZXRhX2Rlc2NyaXB0aW9uOiBTdHJpbmcsXHJcbiAgY2F0ZWdvcnlfbWV0YV9pbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgdHlwZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydwcm9kdWN0JywgJ3Bvc3QnXSxcclxuICAgIGRlZmF1bHQ6ICdwcm9kdWN0J1xyXG4gIH0sXHJcbiAgY29tbWlzc2lvbl9yYXRlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBwYXJlbnRfaWQ6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ0NhdGVnb3J5JyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIGJsb2dzX2NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBwcm9kdWN0c19jb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH1cclxufSk7XHJcblxyXG4vLyBWaXJ0dWFsIGZvciBzdWJjYXRlZ29yaWVzXHJcbmNhdGVnb3J5U2NoZW1hLnZpcnR1YWwoJ3N1YmNhdGVnb3JpZXMnLCB7XHJcbiAgcmVmOiAnQ2F0ZWdvcnknLFxyXG4gIGxvY2FsRmllbGQ6ICdfaWQnLFxyXG4gIGZvcmVpZ25GaWVsZDogJ3BhcmVudF9pZCdcclxufSk7XHJcblxyXG5cclxuXHJcbmNhdGVnb3J5U2NoZW1hLnNldCgndG9PYmplY3QnLCB7IHZpcnR1YWxzOiB0cnVlIH0pO1xyXG5jYXRlZ29yeVNjaGVtYS5zZXQoJ3RvSlNPTicsIHsgdmlydHVhbHM6IHRydWUgfSk7XHJcblxyXG5jb25zdCBDYXRlZ29yeSA9IG1vbmdvb3NlLm1vZGVscy5DYXRlZ29yeSB8fCBtb25nb29zZS5tb2RlbCgnQ2F0ZWdvcnknLCBjYXRlZ29yeVNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5O1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjYXRlZ29yeVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJzbHVnIiwidW5pcXVlIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeV9pbWFnZSIsImRlZmF1bHQiLCJjYXRlZ29yeV9pY29uIiwic3RhdHVzIiwiTnVtYmVyIiwibWV0YV90aXRsZSIsIm1ldGFfZGVzY3JpcHRpb24iLCJjYXRlZ29yeV9tZXRhX2ltYWdlIiwiZW51bSIsImNvbW1pc3Npb25fcmF0ZSIsInBhcmVudF9pZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJibG9nc19jb3VudCIsInByb2R1Y3RzX2NvdW50IiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInZpcnR1YWwiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwic2V0IiwidmlydHVhbHMiLCJDYXRlZ29yeSIsIm1vZGVscyIsIm1vZGVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Category.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Products.js":
/*!********************************!*\
  !*** ./src/models/Products.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var yup_lib_locale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yup/lib/locale */ \"(rsc)/./node_modules/yup/lib/locale.js\");\n\n\n// const variationGallerySchema = new mongoose.Schema({\n//   id: Number,\n//   name: String,\n//   file_name: String,\n//   mime_type: String,\n//   disk: String,\n//   created_by_id: String,\n//   asset_url: String,\n//   original_url: String\n// }, {\n//   timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' }\n// });\nconst variationSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: String,\n    price: Number,\n    quantity: Number,\n    stock_status: {\n        type: String,\n        enum: [\n            'in_stock',\n            'out_of_stock'\n        ],\n        default: 'in_stock'\n    },\n    sale_price: Number,\n    discount: {\n        type: Number,\n        default: null\n    },\n    sku: String,\n    status: {\n        type: Number,\n        default: 1\n    },\n    variation_options: {\n        type: String,\n        default: null\n    },\n    preview_url: {\n        type: String,\n        default: null\n    },\n    separator: {\n        type: String,\n        default: null\n    },\n    is_digital: {\n        type: Boolean,\n        default: null\n    },\n    is_licensable: {\n        type: Number,\n        default: 0\n    },\n    is_licensekey_auto: {\n        type: Number,\n        default: 0\n    },\n    variation_image: String,\n    product_id: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'Product'\n    },\n    variation_galleries: [\n        {\n            type: String\n        }\n    ],\n    attribute_values: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: 'AttributeValue'\n        }\n    ]\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    }\n});\nconst productGallerySchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    id: Number,\n    name: String,\n    disk: String,\n    file_name: String,\n    mime_type: String,\n    asset_url: String,\n    original_url: String\n});\nconst productThumbnailSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    id: Number,\n    name: String,\n    disk: String,\n    file_name: String,\n    mime_type: String,\n    asset_url: String,\n    original_url: String\n});\nconst reviewSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n});\nconst productSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    short_description: String,\n    description: String,\n    type: {\n        type: String,\n        enum: [\n            'simple',\n            'classified'\n        ],\n        default: 'simple'\n    },\n    unit: String,\n    weight: Number,\n    quantity: Number,\n    price: Number,\n    sale_price: Number,\n    discount: {\n        type: Number,\n        default: null\n    },\n    is_featured: {\n        type: Number,\n        default: 0\n    },\n    shipping_days: {\n        type: Number,\n        default: null\n    },\n    is_cod: {\n        type: Number,\n        default: 0\n    },\n    is_free_shipping: {\n        type: Number,\n        default: 0\n    },\n    is_sale_enable: {\n        type: Number,\n        default: 0\n    },\n    is_return: {\n        type: Number,\n        default: 0\n    },\n    is_trending: {\n        type: Number,\n        default: 0\n    },\n    is_approved: {\n        type: Number,\n        default: 0\n    },\n    is_external: {\n        type: Number,\n        default: 0\n    },\n    external_url: {\n        type: String,\n        default: null\n    },\n    external_button_text: {\n        type: String,\n        default: null\n    },\n    sale_starts_at: {\n        type: Date,\n        default: null\n    },\n    sale_expired_at: {\n        type: Date,\n        default: null\n    },\n    sku: {\n        type: String,\n        required: true\n    },\n    is_random_related_products: {\n        type: Number,\n        default: 0\n    },\n    stock_status: {\n        type: String,\n        enum: [\n            'in_stock',\n            'out_of_stock'\n        ],\n        default: 'in_stock'\n    },\n    meta_title: String,\n    meta_description: String,\n    product_thumbnail: String,\n    product_meta_image: String,\n    size_chart_image: {\n        type: String,\n        default: null\n    },\n    estimated_delivery_text: String,\n    return_policy_text: String,\n    safe_checkout: {\n        type: Number,\n        default: 0\n    },\n    secure_checkout: {\n        type: Number,\n        default: 0\n    },\n    social_share: {\n        type: Number,\n        default: 0\n    },\n    encourage_order: {\n        type: Number,\n        default: 0\n    },\n    encourage_view: {\n        type: Number,\n        default: 0\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    status: {\n        type: Number,\n        default: 1\n    },\n    store_id: {\n        type: Number,\n        ref: 'Store',\n        required: true\n    },\n    created_by: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User'\n    },\n    tax_id: {\n        type: Number,\n        default: 1\n    },\n    preview_type: {\n        type: String,\n        default: 'url'\n    },\n    product_type: {\n        type: String,\n        enum: [\n            'physical',\n            'digital'\n        ],\n        default: 'physical'\n    },\n    separator: {\n        type: String,\n        default: null\n    },\n    is_licensable: {\n        type: Number,\n        default: 0\n    },\n    license_type: {\n        type: String,\n        default: null\n    },\n    preview_url: {\n        type: String,\n        default: null\n    },\n    watermark: {\n        type: Number,\n        default: 0\n    },\n    watermark_image: {\n        type: String,\n        default: null\n    },\n    watermark_position: {\n        type: String,\n        default: 'center'\n    },\n    brand_id: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'Brand'\n    },\n    wholesale_price_type: {\n        type: String,\n        default: null\n    },\n    is_licensekey_auto: {\n        type: Number,\n        default: 0\n    },\n    preview_audio_file_id: {\n        type: Number,\n        default: null\n    },\n    preview_video_file_id: {\n        type: Number,\n        default: null\n    },\n    orders_count: {\n        type: Number,\n        default: 0\n    },\n    reviews_count: {\n        type: Number,\n        default: 0\n    },\n    can_review: {\n        type: Boolean,\n        default: false\n    },\n    order_amount: {\n        type: Number,\n        default: 0\n    },\n    is_wishlist: {\n        type: Boolean,\n        default: false\n    },\n    rating_count: {\n        type: Number,\n        default: null\n    },\n    review_ratings: [\n        Number\n    ],\n    // References to other collections\n    categories: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: 'Category'\n        }\n    ],\n    tags: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: 'Tag'\n        }\n    ],\n    attributes: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: 'Attribute'\n        }\n    ],\n    related_products: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: 'Product'\n        }\n    ],\n    cross_sell_products: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: 'Product'\n        }\n    ],\n    // Embedded subdocuments\n    variations: [\n        variationSchema\n    ],\n    product_thumbnail: {\n        type: String\n    },\n    product_galleries: [\n        {\n            type: String\n        }\n    ],\n    wholesales: [\n        {\n            min_qty: {\n                type: Number,\n                required: true\n            },\n            max_qty: {\n                type: Number,\n                required: true\n            },\n            value: {\n                type: Number,\n                required: true\n            }\n        }\n    ],\n    reviews: [\n        reviewSchema\n    ]\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    }\n});\n// Virtual for similar_products (could be populated based on categories/tags)\nproductSchema.virtual('similar_products', {\n    ref: 'Product',\n    localField: 'categories',\n    foreignField: 'categories'\n});\n// Virtual for cross_products\nproductSchema.virtual('cross_products', {\n    ref: 'Product',\n    localField: 'cross_sell_products',\n    foreignField: 'id'\n});\n// Add virtual for ID (to match frontend expectations)\nproductSchema.virtual('id').get(function() {\n    return this._id.toHexString();\n});\n// Ensure virtuals are included in JSON output\nproductSchema.set('toObject', {\n    virtuals: true\n});\nproductSchema.set('toJSON', {\n    virtuals: true\n});\n// Add indexing for better performance\nproductSchema.index({\n    slug: 1\n});\nproductSchema.index({\n    sku: 1\n});\nproductSchema.index({\n    store_id: 1\n});\nproductSchema.index({\n    status: 1\n});\nproductSchema.index({\n    'categories': 1\n});\nproductSchema.index({\n    brand_id: 1\n});\nconst Product = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Product || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Product', productSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Product);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDRmlFLFNBQVM7UUFBQ25FO0tBQWE7QUFDekIsR0FBRztJQUNEWCxZQUFZO1FBQUVDLFdBQVc7UUFBY0MsV0FBVztJQUFhO0FBQ2pFO0FBRUEsNkVBQTZFO0FBQzdFVSxjQUFjbUUsT0FBTyxDQUFDLG9CQUFvQjtJQUN4Q2xGLEtBQUs7SUFDTG1GLFlBQVk7SUFDWkMsY0FBYztBQUNoQjtBQUVBLDZCQUE2QjtBQUM3QnJFLGNBQWNtRSxPQUFPLENBQUMsa0JBQWtCO0lBQ3RDbEYsS0FBSztJQUNMbUYsWUFBWTtJQUNaQyxjQUFjO0FBQ2hCO0FBRUEsc0RBQXNEO0FBQ3REckUsY0FBY21FLE9BQU8sQ0FBQyxNQUFNRyxHQUFHLENBQUM7SUFDOUIsT0FBTyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVztBQUM3QjtBQUVBLDhDQUE4QztBQUM5Q3hFLGNBQWN5RSxHQUFHLENBQUMsWUFBWTtJQUFFQyxVQUFVO0FBQUs7QUFDL0MxRSxjQUFjeUUsR0FBRyxDQUFDLFVBQVU7SUFBRUMsVUFBVTtBQUFLO0FBRTdDLHNDQUFzQztBQUN0QzFFLGNBQWMyRSxLQUFLLENBQUM7SUFBRTFDLE1BQU07QUFBRTtBQUM5QmpDLGNBQWMyRSxLQUFLLENBQUM7SUFBRXZHLEtBQUs7QUFBRTtBQUM3QjRCLGNBQWMyRSxLQUFLLENBQUM7SUFBRXhDLFVBQVU7QUFBRTtBQUNsQ25DLGNBQWMyRSxLQUFLLENBQUM7SUFBRXRHLFFBQVE7QUFBRTtBQUNoQzJCLGNBQWMyRSxLQUFLLENBQUM7SUFBRSxjQUFjO0FBQUU7QUFDdEMzRSxjQUFjMkUsS0FBSyxDQUFDO0lBQUUvQixVQUFVO0FBQUU7QUFFbEMsTUFBTWdDLFVBQVV2SCx3REFBZSxDQUFDdUgsT0FBTyxJQUFJdkgscURBQWMsQ0FBQyxXQUFXMkM7QUFDckUsaUVBQWU0RSxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJpc3dhamVldFxcT25lRHJpdmVcXERlc2t0b3BcXEFMTEZyZWVsYW5jZVxcbXVsdGlrYXJ0LWFkbWluXFxzcmNcXG1vZGVsc1xcUHJvZHVjdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IHsgc3RyaW5nIH0gZnJvbSAneXVwL2xpYi9sb2NhbGUnO1xyXG5cclxuLy8gY29uc3QgdmFyaWF0aW9uR2FsbGVyeVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4vLyAgIGlkOiBOdW1iZXIsXHJcbi8vICAgbmFtZTogU3RyaW5nLFxyXG4vLyAgIGZpbGVfbmFtZTogU3RyaW5nLFxyXG4vLyAgIG1pbWVfdHlwZTogU3RyaW5nLFxyXG4vLyAgIGRpc2s6IFN0cmluZyxcclxuLy8gICBjcmVhdGVkX2J5X2lkOiBTdHJpbmcsXHJcbi8vICAgYXNzZXRfdXJsOiBTdHJpbmcsXHJcbi8vICAgb3JpZ2luYWxfdXJsOiBTdHJpbmdcclxuLy8gfSwge1xyXG4vLyAgIHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH1cclxuLy8gfSk7XHJcblxyXG5jb25zdCB2YXJpYXRpb25TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiBTdHJpbmcsXHJcbiAgcHJpY2U6IE51bWJlcixcclxuICBxdWFudGl0eTogTnVtYmVyLFxyXG4gIHN0b2NrX3N0YXR1czoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydpbl9zdG9jaycsICdvdXRfb2Zfc3RvY2snXSxcclxuICAgIGRlZmF1bHQ6ICdpbl9zdG9jaydcclxuICB9LFxyXG4gIHNhbGVfcHJpY2U6IE51bWJlcixcclxuICBkaXNjb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgc2t1OiBTdHJpbmcsXHJcbiAgc3RhdHVzOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAxXHJcbiAgfSxcclxuICB2YXJpYXRpb25fb3B0aW9uczoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgcHJldmlld191cmw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHNlcGFyYXRvcjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgaXNfZGlnaXRhbDoge1xyXG4gICAgdHlwZTogQm9vbGVhbixcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIGlzX2xpY2Vuc2FibGU6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDBcclxuICB9LFxyXG4gIGlzX2xpY2Vuc2VrZXlfYXV0bzoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgdmFyaWF0aW9uX2ltYWdlOiBTdHJpbmcsXHJcbiAgcHJvZHVjdF9pZDoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnUHJvZHVjdCdcclxuICB9LFxyXG4gIHZhcmlhdGlvbl9nYWxsZXJpZXM6IFt7XHJcbiAgICB0eXBlIDogU3RyaW5nXHJcbiAgfV0sXHJcbiAgYXR0cmlidXRlX3ZhbHVlczogW3tcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ0F0dHJpYnV0ZVZhbHVlJ1xyXG4gIH1dXHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB7IGNyZWF0ZWRBdDogJ2NyZWF0ZWRfYXQnLCB1cGRhdGVkQXQ6ICd1cGRhdGVkX2F0JyB9XHJcbn0pO1xyXG5cclxuY29uc3QgcHJvZHVjdEdhbGxlcnlTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBpZDogTnVtYmVyLFxyXG4gIG5hbWU6IFN0cmluZyxcclxuICBkaXNrOiBTdHJpbmcsXHJcbiAgZmlsZV9uYW1lOiBTdHJpbmcsXHJcbiAgbWltZV90eXBlOiBTdHJpbmcsXHJcbiAgYXNzZXRfdXJsOiBTdHJpbmcsXHJcbiAgb3JpZ2luYWxfdXJsOiBTdHJpbmdcclxufSk7XHJcblxyXG5jb25zdCBwcm9kdWN0VGh1bWJuYWlsU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgaWQ6IE51bWJlcixcclxuICBuYW1lOiBTdHJpbmcsXHJcbiAgZGlzazogU3RyaW5nLFxyXG4gIGZpbGVfbmFtZTogU3RyaW5nLFxyXG4gIG1pbWVfdHlwZTogU3RyaW5nLFxyXG4gIGFzc2V0X3VybDogU3RyaW5nLFxyXG4gIG9yaWdpbmFsX3VybDogU3RyaW5nXHJcbn0pO1xyXG5cclxuY29uc3QgcmV2aWV3U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgLy8gRGVmaW5lIHlvdXIgcmV2aWV3IHNjaGVtYSBoZXJlIGJhc2VkIG9uIHlvdXIgcmVxdWlyZW1lbnRzXHJcbn0pO1xyXG5cclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzaG9ydF9kZXNjcmlwdGlvbjogU3RyaW5nLFxyXG4gIGRlc2NyaXB0aW9uOiBTdHJpbmcsXHJcbiAgdHlwZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydzaW1wbGUnLCAnY2xhc3NpZmllZCddLFxyXG4gICAgZGVmYXVsdDogJ3NpbXBsZSdcclxuICB9LFxyXG4gIHVuaXQ6IFN0cmluZyxcclxuICB3ZWlnaHQ6IE51bWJlcixcclxuICBxdWFudGl0eTogTnVtYmVyLFxyXG4gIHByaWNlOiBOdW1iZXIsXHJcbiAgc2FsZV9wcmljZTogTnVtYmVyLFxyXG4gIGRpc2NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBpc19mZWF0dXJlZDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgc2hpcHBpbmdfZGF5czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgaXNfY29kOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBpc19mcmVlX3NoaXBwaW5nOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBpc19zYWxlX2VuYWJsZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgaXNfcmV0dXJuOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBpc190cmVuZGluZzoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgaXNfYXBwcm92ZWQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDBcclxuICB9LFxyXG4gIGlzX2V4dGVybmFsOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBleHRlcm5hbF91cmw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIGV4dGVybmFsX2J1dHRvbl90ZXh0OiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBzYWxlX3N0YXJ0c19hdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHNhbGVfZXhwaXJlZF9hdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHNrdToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIGlzX3JhbmRvbV9yZWxhdGVkX3Byb2R1Y3RzOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBzdG9ja19zdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsnaW5fc3RvY2snLCAnb3V0X29mX3N0b2NrJ10sXHJcbiAgICBkZWZhdWx0OiAnaW5fc3RvY2snXHJcbiAgfSxcclxuICBtZXRhX3RpdGxlOiBTdHJpbmcsXHJcbiAgbWV0YV9kZXNjcmlwdGlvbjogU3RyaW5nLFxyXG4gIHByb2R1Y3RfdGh1bWJuYWlsOiBTdHJpbmcsXHJcbiAgcHJvZHVjdF9tZXRhX2ltYWdlOiBTdHJpbmcsXHJcbiAgc2l6ZV9jaGFydF9pbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgZXN0aW1hdGVkX2RlbGl2ZXJ5X3RleHQ6IFN0cmluZyxcclxuICByZXR1cm5fcG9saWN5X3RleHQ6IFN0cmluZyxcclxuICBzYWZlX2NoZWNrb3V0OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBzZWN1cmVfY2hlY2tvdXQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDBcclxuICB9LFxyXG4gIHNvY2lhbF9zaGFyZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgZW5jb3VyYWdlX29yZGVyOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBlbmNvdXJhZ2Vfdmlldzoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgc2x1Zzoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB1bmlxdWU6IHRydWVcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMVxyXG4gIH0sXHJcbiAgc3RvcmVfaWQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlZjogJ1N0b3JlJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBjcmVhdGVkX2J5OiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJ1xyXG4gIH0sXHJcbiAgdGF4X2lkOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAxXHJcbiAgfSxcclxuICBwcmV2aWV3X3R5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6ICd1cmwnXHJcbiAgfSxcclxuICBwcm9kdWN0X3R5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsncGh5c2ljYWwnLCAnZGlnaXRhbCddLFxyXG4gICAgZGVmYXVsdDogJ3BoeXNpY2FsJ1xyXG4gIH0sXHJcbiAgc2VwYXJhdG9yOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICBpc19saWNlbnNhYmxlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBsaWNlbnNlX3R5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHByZXZpZXdfdXJsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICB3YXRlcm1hcms6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDBcclxuICB9LFxyXG4gIHdhdGVybWFya19pbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgd2F0ZXJtYXJrX3Bvc2l0aW9uOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiAnY2VudGVyJ1xyXG4gIH0sXHJcbiAgYnJhbmRfaWQ6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ0JyYW5kJyAgXHJcbiAgfSxcclxuICB3aG9sZXNhbGVfcHJpY2VfdHlwZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgaXNfbGljZW5zZWtleV9hdXRvOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBwcmV2aWV3X2F1ZGlvX2ZpbGVfaWQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHByZXZpZXdfdmlkZW9fZmlsZV9pZDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbFxyXG4gIH0sXHJcbiAgb3JkZXJzX2NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICByZXZpZXdzX2NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBjYW5fcmV2aWV3OiB7XHJcbiAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgZGVmYXVsdDogZmFsc2VcclxuICB9LFxyXG4gIG9yZGVyX2Ftb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH0sXHJcbiAgaXNfd2lzaGxpc3Q6IHtcclxuICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICBkZWZhdWx0OiBmYWxzZVxyXG4gIH0sXHJcbiAgcmF0aW5nX2NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfSxcclxuICByZXZpZXdfcmF0aW5nczogW051bWJlcl0sXHJcbiAgXHJcbiAgLy8gUmVmZXJlbmNlcyB0byBvdGhlciBjb2xsZWN0aW9uc1xyXG4gIGNhdGVnb3JpZXM6IFt7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdDYXRlZ29yeSdcclxuICB9XSxcclxuICB0YWdzOiBbe1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVGFnJ1xyXG4gIH1dLFxyXG4gIGF0dHJpYnV0ZXM6IFt7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdBdHRyaWJ1dGUnXHJcbiAgfV0sXHJcbiAgcmVsYXRlZF9wcm9kdWN0czogW3tcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1Byb2R1Y3QnXHJcbiAgfV0sXHJcbiAgY3Jvc3Nfc2VsbF9wcm9kdWN0czogW3tcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1Byb2R1Y3QnXHJcbiAgfV0sXHJcbiAgXHJcbiAgLy8gRW1iZWRkZWQgc3ViZG9jdW1lbnRzXHJcbiAgdmFyaWF0aW9uczogW3ZhcmlhdGlvblNjaGVtYV0sXHJcbiAgcHJvZHVjdF90aHVtYm5haWw6IHtcclxuICAgIHR5cGUgOiBTdHJpbmdcclxuICB9LFxyXG4gIHByb2R1Y3RfZ2FsbGVyaWVzOiBbe1xyXG4gICAgdHlwZSA6IFN0cmluZ1xyXG4gIH1dLFxyXG4gIHdob2xlc2FsZXM6IFt7XHJcbiAgICBtaW5fcXR5OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBtYXhfcXR5OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2YWx1ZToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9XHJcbiAgfV0sXHJcbiAgcmV2aWV3czogW3Jldmlld1NjaGVtYV1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH1cclxufSk7XHJcblxyXG4vLyBWaXJ0dWFsIGZvciBzaW1pbGFyX3Byb2R1Y3RzIChjb3VsZCBiZSBwb3B1bGF0ZWQgYmFzZWQgb24gY2F0ZWdvcmllcy90YWdzKVxyXG5wcm9kdWN0U2NoZW1hLnZpcnR1YWwoJ3NpbWlsYXJfcHJvZHVjdHMnLCB7XHJcbiAgcmVmOiAnUHJvZHVjdCcsXHJcbiAgbG9jYWxGaWVsZDogJ2NhdGVnb3JpZXMnLFxyXG4gIGZvcmVpZ25GaWVsZDogJ2NhdGVnb3JpZXMnXHJcbn0pO1xyXG5cclxuLy8gVmlydHVhbCBmb3IgY3Jvc3NfcHJvZHVjdHNcclxucHJvZHVjdFNjaGVtYS52aXJ0dWFsKCdjcm9zc19wcm9kdWN0cycsIHtcclxuICByZWY6ICdQcm9kdWN0JyxcclxuICBsb2NhbEZpZWxkOiAnY3Jvc3Nfc2VsbF9wcm9kdWN0cycsXHJcbiAgZm9yZWlnbkZpZWxkOiAnaWQnXHJcbn0pO1xyXG5cclxuLy8gQWRkIHZpcnR1YWwgZm9yIElEICh0byBtYXRjaCBmcm9udGVuZCBleHBlY3RhdGlvbnMpXHJcbnByb2R1Y3RTY2hlbWEudmlydHVhbCgnaWQnKS5nZXQoZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2lkLnRvSGV4U3RyaW5nKCk7XHJcbn0pO1xyXG5cclxuLy8gRW5zdXJlIHZpcnR1YWxzIGFyZSBpbmNsdWRlZCBpbiBKU09OIG91dHB1dFxyXG5wcm9kdWN0U2NoZW1hLnNldCgndG9PYmplY3QnLCB7IHZpcnR1YWxzOiB0cnVlIH0pO1xyXG5wcm9kdWN0U2NoZW1hLnNldCgndG9KU09OJywgeyB2aXJ0dWFsczogdHJ1ZSB9KTtcclxuXHJcbi8vIEFkZCBpbmRleGluZyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBzbHVnOiAxIH0pO1xyXG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgc2t1OiAxIH0pO1xyXG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgc3RvcmVfaWQ6IDEgfSk7XHJcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XHJcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyAnY2F0ZWdvcmllcyc6IDEgfSk7XHJcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBicmFuZF9pZDogMSB9KTtcclxuXHJcbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbHMuUHJvZHVjdCB8fCBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2R1Y3RTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInN0cmluZyIsInZhcmlhdGlvblNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJwcmljZSIsIk51bWJlciIsInF1YW50aXR5Iiwic3RvY2tfc3RhdHVzIiwidHlwZSIsImVudW0iLCJkZWZhdWx0Iiwic2FsZV9wcmljZSIsImRpc2NvdW50Iiwic2t1Iiwic3RhdHVzIiwidmFyaWF0aW9uX29wdGlvbnMiLCJwcmV2aWV3X3VybCIsInNlcGFyYXRvciIsImlzX2RpZ2l0YWwiLCJCb29sZWFuIiwiaXNfbGljZW5zYWJsZSIsImlzX2xpY2Vuc2VrZXlfYXV0byIsInZhcmlhdGlvbl9pbWFnZSIsInByb2R1Y3RfaWQiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidmFyaWF0aW9uX2dhbGxlcmllcyIsImF0dHJpYnV0ZV92YWx1ZXMiLCJ0aW1lc3RhbXBzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwicHJvZHVjdEdhbGxlcnlTY2hlbWEiLCJpZCIsImRpc2siLCJmaWxlX25hbWUiLCJtaW1lX3R5cGUiLCJhc3NldF91cmwiLCJvcmlnaW5hbF91cmwiLCJwcm9kdWN0VGh1bWJuYWlsU2NoZW1hIiwicmV2aWV3U2NoZW1hIiwicHJvZHVjdFNjaGVtYSIsInJlcXVpcmVkIiwic2hvcnRfZGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInVuaXQiLCJ3ZWlnaHQiLCJpc19mZWF0dXJlZCIsInNoaXBwaW5nX2RheXMiLCJpc19jb2QiLCJpc19mcmVlX3NoaXBwaW5nIiwiaXNfc2FsZV9lbmFibGUiLCJpc19yZXR1cm4iLCJpc190cmVuZGluZyIsImlzX2FwcHJvdmVkIiwiaXNfZXh0ZXJuYWwiLCJleHRlcm5hbF91cmwiLCJleHRlcm5hbF9idXR0b25fdGV4dCIsInNhbGVfc3RhcnRzX2F0IiwiRGF0ZSIsInNhbGVfZXhwaXJlZF9hdCIsImlzX3JhbmRvbV9yZWxhdGVkX3Byb2R1Y3RzIiwibWV0YV90aXRsZSIsIm1ldGFfZGVzY3JpcHRpb24iLCJwcm9kdWN0X3RodW1ibmFpbCIsInByb2R1Y3RfbWV0YV9pbWFnZSIsInNpemVfY2hhcnRfaW1hZ2UiLCJlc3RpbWF0ZWRfZGVsaXZlcnlfdGV4dCIsInJldHVybl9wb2xpY3lfdGV4dCIsInNhZmVfY2hlY2tvdXQiLCJzZWN1cmVfY2hlY2tvdXQiLCJzb2NpYWxfc2hhcmUiLCJlbmNvdXJhZ2Vfb3JkZXIiLCJlbmNvdXJhZ2VfdmlldyIsInNsdWciLCJ1bmlxdWUiLCJzdG9yZV9pZCIsImNyZWF0ZWRfYnkiLCJ0YXhfaWQiLCJwcmV2aWV3X3R5cGUiLCJwcm9kdWN0X3R5cGUiLCJsaWNlbnNlX3R5cGUiLCJ3YXRlcm1hcmsiLCJ3YXRlcm1hcmtfaW1hZ2UiLCJ3YXRlcm1hcmtfcG9zaXRpb24iLCJicmFuZF9pZCIsIndob2xlc2FsZV9wcmljZV90eXBlIiwicHJldmlld19hdWRpb19maWxlX2lkIiwicHJldmlld192aWRlb19maWxlX2lkIiwib3JkZXJzX2NvdW50IiwicmV2aWV3c19jb3VudCIsImNhbl9yZXZpZXciLCJvcmRlcl9hbW91bnQiLCJpc193aXNobGlzdCIsInJhdGluZ19jb3VudCIsInJldmlld19yYXRpbmdzIiwiY2F0ZWdvcmllcyIsInRhZ3MiLCJhdHRyaWJ1dGVzIiwicmVsYXRlZF9wcm9kdWN0cyIsImNyb3NzX3NlbGxfcHJvZHVjdHMiLCJ2YXJpYXRpb25zIiwicHJvZHVjdF9nYWxsZXJpZXMiLCJ3aG9sZXNhbGVzIiwibWluX3F0eSIsIm1heF9xdHkiLCJ2YWx1ZSIsInJldmlld3MiLCJ2aXJ0dWFsIiwibG9jYWxGaWVsZCIsImZvcmVpZ25GaWVsZCIsImdldCIsIl9pZCIsInRvSGV4U3RyaW5nIiwic2V0IiwidmlydHVhbHMiLCJpbmRleCIsIlByb2R1Y3QiLCJtb2RlbHMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Products.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Tag.js":
/*!***************************!*\
  !*** ./src/models/Tag.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst tagSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    type: {\n        type: String,\n        enum: [\n            'product',\n            'post'\n        ],\n        default: 'product'\n    },\n    description: String,\n    // created_by_id: {\n    //   type: String,\n    //   required: true\n    // },\n    status: {\n        type: Number,\n        default: 1\n    },\n    blogs_count: {\n        type: Number,\n        default: 0\n    },\n    products_count: {\n        type: Number,\n        default: 0\n    }\n}, {\n    timestamps: {\n        createdAt: 'created_at',\n        updatedAt: 'updated_at'\n    }\n});\nconst Tag = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Tag || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Tag', tagSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tag);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1RhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsWUFBWSxJQUFJRCx3REFBZSxDQUFDO0lBQ3BDRyxNQUFNO1FBQ0pDLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBQyxNQUFNO1FBQ0pILE1BQU1DO1FBQ05DLFVBQVU7UUFDVkUsUUFBUTtJQUNWO0lBQ0FKLE1BQU07UUFDSkEsTUFBTUM7UUFDTkksTUFBTTtZQUFDO1lBQVc7U0FBTztRQUN6QkMsU0FBUztJQUNYO0lBQ0FDLGFBQWFOO0lBQ2IsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsS0FBSztJQUNMTyxRQUFRO1FBQ05SLE1BQU1TO1FBQ05ILFNBQVM7SUFDWDtJQUNBSSxhQUFhO1FBQ1hWLE1BQU1TO1FBQ05ILFNBQVM7SUFDWDtJQUNBSyxnQkFBZ0I7UUFDZFgsTUFBTVM7UUFDTkgsU0FBUztJQUNYO0FBQ0YsR0FBRztJQUNETSxZQUFZO1FBQUVDLFdBQVc7UUFBY0MsV0FBVztJQUFhO0FBQ2pFO0FBRUEsTUFBTUMsTUFBTW5CLHdEQUFlLENBQUNtQixHQUFHLElBQUluQixxREFBYyxDQUFDLE9BQU9DO0FBQ3pELGlFQUFla0IsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCaXN3YWplZXRcXE9uZURyaXZlXFxEZXNrdG9wXFxBTExGcmVlbGFuY2VcXG11bHRpa2FydC1hZG1pblxcc3JjXFxtb2RlbHNcXFRhZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgdGFnU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIHNsdWc6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlXHJcbiAgfSxcclxuICB0eXBlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ3Byb2R1Y3QnLCAncG9zdCddLFxyXG4gICAgZGVmYXVsdDogJ3Byb2R1Y3QnXHJcbiAgfSxcclxuICBkZXNjcmlwdGlvbjogU3RyaW5nLFxyXG4gIC8vIGNyZWF0ZWRfYnlfaWQ6IHtcclxuICAvLyAgIHR5cGU6IFN0cmluZyxcclxuICAvLyAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgLy8gfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDFcclxuICB9LFxyXG4gIGJsb2dzX2NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwXHJcbiAgfSxcclxuICBwcm9kdWN0c19jb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHsgY3JlYXRlZEF0OiAnY3JlYXRlZF9hdCcsIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnIH1cclxufSk7XHJcblxyXG5jb25zdCBUYWcgPSBtb25nb29zZS5tb2RlbHMuVGFnIHx8IG1vbmdvb3NlLm1vZGVsKCdUYWcnLCB0YWdTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBUYWc7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwidGFnU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInNsdWciLCJ1bmlxdWUiLCJlbnVtIiwiZGVmYXVsdCIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwiTnVtYmVyIiwiYmxvZ3NfY291bnQiLCJwcm9kdWN0c19jb3VudCIsInRpbWVzdGFtcHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJUYWciLCJtb2RlbHMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Tag.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/auth/serverAuth.js":
/*!**************************************!*\
  !*** ./src/utils/auth/serverAuth.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkAdminAuth: () => (/* binding */ checkAdminAuth),\n/* harmony export */   extractAuthFromRequest: () => (/* binding */ extractAuthFromRequest),\n/* harmony export */   requireAdmin: () => (/* binding */ requireAdmin)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Extract user authentication data from request\r\n * @param {Request} request - The Next.js request object\r\n * @returns {Object} - { isAdmin: boolean, userId: string|null, email: string|null }\r\n */ async function extractAuthFromRequest(request) {\n    let isAdmin = false;\n    let userId = null;\n    let email = null;\n    // Try to get token from authorization header or cookies\n    const authHeader = request.headers.get('authorization');\n    const token = authHeader?.startsWith('Bearer ') ? authHeader.substring(7) : request.cookies?.get('uat')?.value;\n    if (token) {\n        try {\n            // Try JWT verification first\n            const secret = process.env.JWT_SECRET || \"your_jwt_secret\";\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, secret);\n            isAdmin = decoded.isAdmin === true;\n            userId = decoded.userId;\n            email = decoded.email;\n            console.log(\"JWT verified:\", {\n                userId,\n                email,\n                isAdmin\n            });\n            return {\n                isAdmin,\n                userId,\n                email\n            };\n        } catch (jwtError) {\n            console.warn(\"JWT verification failed:\", jwtError.message);\n            // Fallback to cookie data\n            const accountCookie = request.cookies?.get('account')?.value;\n            if (accountCookie) {\n                try {\n                    const accountData = JSON.parse(decodeURIComponent(accountCookie));\n                    isAdmin = accountData.isAdmin === true;\n                    userId = accountData._id;\n                    email = accountData.email;\n                    console.log(\"Using cookie fallback:\", {\n                        userId,\n                        email,\n                        isAdmin\n                    });\n                    return {\n                        isAdmin,\n                        userId,\n                        email\n                    };\n                } catch (cookieError) {\n                    console.error(\"Cookie parsing failed:\", cookieError);\n                }\n            }\n        }\n    }\n    console.log(\"No valid authentication found\");\n    return {\n        isAdmin: false,\n        userId: null,\n        email: null\n    };\n}\n/**\r\n * Check if request has admin privileges\r\n * @param {Request} request - The Next.js request object\r\n * @returns {Promise<{isAdmin: boolean, userId: string|null, authData: Object}>}\r\n */ async function checkAdminAuth(request) {\n    const authData = await extractAuthFromRequest(request);\n    return {\n        isAdmin: authData.isAdmin,\n        userId: authData.userId,\n        authData\n    };\n}\n/**\r\n * Middleware function to require admin access for API routes\r\n * @param {Request} request - The Next.js request object\r\n * @returns {Promise<{success: boolean, authData?: Object, errorResponse?: Response}>}\r\n */ async function requireAdmin(request) {\n    const { isAdmin, userId, authData } = await checkAdminAuth(request);\n    if (!isAdmin) {\n        const errorResponse = new Response(JSON.stringify({\n            success: false,\n            message: \"Access denied. Only administrators can perform this action.\",\n            data: null\n        }), {\n            status: 403,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        return {\n            success: false,\n            errorResponse\n        };\n    }\n    return {\n        success: true,\n        authData: {\n            ...authData,\n            userId\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvYXV0aC9zZXJ2ZXJBdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCO0FBRS9COzs7O0NBSUMsR0FDTSxlQUFlQyx1QkFBdUJDLE9BQU87SUFDbEQsSUFBSUMsVUFBVTtJQUNkLElBQUlDLFNBQVM7SUFDYixJQUFJQyxRQUFRO0lBRVosd0RBQXdEO0lBQ3hELE1BQU1DLGFBQWFKLFFBQVFLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0lBQ3ZDLE1BQU1DLFFBQVFILFlBQVlJLFdBQVcsYUFDakNKLFdBQVdLLFNBQVMsQ0FBQyxLQUNyQlQsUUFBUVUsT0FBTyxFQUFFSixJQUFJLFFBQVFLO0lBRWpDLElBQUlKLE9BQU87UUFDVCxJQUFJO1lBQ0YsNkJBQTZCO1lBQzdCLE1BQU1LLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJO1lBQ3pDLE1BQU1DLFVBQVVsQiwwREFBVSxDQUFDUyxPQUFPSztZQUVsQ1gsVUFBVWUsUUFBUWYsT0FBTyxLQUFLO1lBQzlCQyxTQUFTYyxRQUFRZCxNQUFNO1lBQ3ZCQyxRQUFRYSxRQUFRYixLQUFLO1lBRXJCZSxRQUFRQyxHQUFHLENBQUMsaUJBQWlCO2dCQUFFakI7Z0JBQVFDO2dCQUFPRjtZQUFRO1lBQ3RELE9BQU87Z0JBQUVBO2dCQUFTQztnQkFBUUM7WUFBTTtRQUVsQyxFQUFFLE9BQU9pQixVQUFVO1lBQ2pCRixRQUFRRyxJQUFJLENBQUMsNEJBQTRCRCxTQUFTRSxPQUFPO1lBRXpELDBCQUEwQjtZQUMxQixNQUFNQyxnQkFBZ0J2QixRQUFRVSxPQUFPLEVBQUVKLElBQUksWUFBWUs7WUFDdkQsSUFBSVksZUFBZTtnQkFDakIsSUFBSTtvQkFDRixNQUFNQyxjQUFjQyxLQUFLQyxLQUFLLENBQUNDLG1CQUFtQko7b0JBQ2xEdEIsVUFBVXVCLFlBQVl2QixPQUFPLEtBQUs7b0JBQ2xDQyxTQUFTc0IsWUFBWUksR0FBRztvQkFDeEJ6QixRQUFRcUIsWUFBWXJCLEtBQUs7b0JBRXpCZSxRQUFRQyxHQUFHLENBQUMsMEJBQTBCO3dCQUFFakI7d0JBQVFDO3dCQUFPRjtvQkFBUTtvQkFDL0QsT0FBTzt3QkFBRUE7d0JBQVNDO3dCQUFRQztvQkFBTTtnQkFFbEMsRUFBRSxPQUFPMEIsYUFBYTtvQkFDcEJYLFFBQVFZLEtBQUssQ0FBQywwQkFBMEJEO2dCQUMxQztZQUNGO1FBQ0Y7SUFDRjtJQUVBWCxRQUFRQyxHQUFHLENBQUM7SUFDWixPQUFPO1FBQUVsQixTQUFTO1FBQU9DLFFBQVE7UUFBTUMsT0FBTztJQUFLO0FBQ3JEO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWU0QixlQUFlL0IsT0FBTztJQUMxQyxNQUFNZ0MsV0FBVyxNQUFNakMsdUJBQXVCQztJQUU5QyxPQUFPO1FBQ0xDLFNBQVMrQixTQUFTL0IsT0FBTztRQUN6QkMsUUFBUThCLFNBQVM5QixNQUFNO1FBQ3ZCOEI7SUFDRjtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVDLGFBQWFqQyxPQUFPO0lBQ3hDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUU4QixRQUFRLEVBQUUsR0FBRyxNQUFNRCxlQUFlL0I7SUFFM0QsSUFBSSxDQUFDQyxTQUFTO1FBQ1osTUFBTWlDLGdCQUFnQixJQUFJQyxTQUN4QlYsS0FBS1csU0FBUyxDQUFDO1lBQ2JDLFNBQVM7WUFDVGYsU0FBUztZQUNUZ0IsTUFBTTtRQUNSLElBQ0E7WUFDRUMsUUFBUTtZQUNSbEMsU0FBUztnQkFBRSxnQkFBZ0I7WUFBbUI7UUFDaEQ7UUFHRixPQUFPO1lBQUVnQyxTQUFTO1lBQU9IO1FBQWM7SUFDekM7SUFFQSxPQUFPO1FBQUVHLFNBQVM7UUFBTUwsVUFBVTtZQUFFLEdBQUdBLFFBQVE7WUFBRTlCO1FBQU87SUFBRTtBQUM1RCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCaXN3YWplZXRcXE9uZURyaXZlXFxEZXNrdG9wXFxBTExGcmVlbGFuY2VcXG11bHRpa2FydC1hZG1pblxcc3JjXFx1dGlsc1xcYXV0aFxcc2VydmVyQXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuXHJcbi8qKlxyXG4gKiBFeHRyYWN0IHVzZXIgYXV0aGVudGljYXRpb24gZGF0YSBmcm9tIHJlcXVlc3RcclxuICogQHBhcmFtIHtSZXF1ZXN0fSByZXF1ZXN0IC0gVGhlIE5leHQuanMgcmVxdWVzdCBvYmplY3RcclxuICogQHJldHVybnMge09iamVjdH0gLSB7IGlzQWRtaW46IGJvb2xlYW4sIHVzZXJJZDogc3RyaW5nfG51bGwsIGVtYWlsOiBzdHJpbmd8bnVsbCB9XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdEF1dGhGcm9tUmVxdWVzdChyZXF1ZXN0KSB7XHJcbiAgbGV0IGlzQWRtaW4gPSBmYWxzZTtcclxuICBsZXQgdXNlcklkID0gbnVsbDtcclxuICBsZXQgZW1haWwgPSBudWxsO1xyXG5cclxuICAvLyBUcnkgdG8gZ2V0IHRva2VuIGZyb20gYXV0aG9yaXphdGlvbiBoZWFkZXIgb3IgY29va2llc1xyXG4gIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XHJcbiAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyPy5zdGFydHNXaXRoKCdCZWFyZXIgJykgXHJcbiAgICA/IGF1dGhIZWFkZXIuc3Vic3RyaW5nKDcpIFxyXG4gICAgOiByZXF1ZXN0LmNvb2tpZXM/LmdldCgndWF0Jyk/LnZhbHVlO1xyXG5cclxuICBpZiAodG9rZW4pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFRyeSBKV1QgdmVyaWZpY2F0aW9uIGZpcnN0XHJcbiAgICAgIGNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgXCJ5b3VyX2p3dF9zZWNyZXRcIjtcclxuICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHNlY3JldCk7XHJcbiAgICAgIFxyXG4gICAgICBpc0FkbWluID0gZGVjb2RlZC5pc0FkbWluID09PSB0cnVlO1xyXG4gICAgICB1c2VySWQgPSBkZWNvZGVkLnVzZXJJZDtcclxuICAgICAgZW1haWwgPSBkZWNvZGVkLmVtYWlsO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coXCJKV1QgdmVyaWZpZWQ6XCIsIHsgdXNlcklkLCBlbWFpbCwgaXNBZG1pbiB9KTtcclxuICAgICAgcmV0dXJuIHsgaXNBZG1pbiwgdXNlcklkLCBlbWFpbCB9O1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGp3dEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIkpXVCB2ZXJpZmljYXRpb24gZmFpbGVkOlwiLCBqd3RFcnJvci5tZXNzYWdlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGNvb2tpZSBkYXRhXHJcbiAgICAgIGNvbnN0IGFjY291bnRDb29raWUgPSByZXF1ZXN0LmNvb2tpZXM/LmdldCgnYWNjb3VudCcpPy52YWx1ZTtcclxuICAgICAgaWYgKGFjY291bnRDb29raWUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgYWNjb3VudERhdGEgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChhY2NvdW50Q29va2llKSk7XHJcbiAgICAgICAgICBpc0FkbWluID0gYWNjb3VudERhdGEuaXNBZG1pbiA9PT0gdHJ1ZTtcclxuICAgICAgICAgIHVzZXJJZCA9IGFjY291bnREYXRhLl9pZDtcclxuICAgICAgICAgIGVtYWlsID0gYWNjb3VudERhdGEuZW1haWw7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgY29va2llIGZhbGxiYWNrOlwiLCB7IHVzZXJJZCwgZW1haWwsIGlzQWRtaW4gfSk7XHJcbiAgICAgICAgICByZXR1cm4geyBpc0FkbWluLCB1c2VySWQsIGVtYWlsIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChjb29raWVFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvb2tpZSBwYXJzaW5nIGZhaWxlZDpcIiwgY29va2llRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJObyB2YWxpZCBhdXRoZW50aWNhdGlvbiBmb3VuZFwiKTtcclxuICByZXR1cm4geyBpc0FkbWluOiBmYWxzZSwgdXNlcklkOiBudWxsLCBlbWFpbDogbnVsbCB9O1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgcmVxdWVzdCBoYXMgYWRtaW4gcHJpdmlsZWdlc1xyXG4gKiBAcGFyYW0ge1JlcXVlc3R9IHJlcXVlc3QgLSBUaGUgTmV4dC5qcyByZXF1ZXN0IG9iamVjdFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx7aXNBZG1pbjogYm9vbGVhbiwgdXNlcklkOiBzdHJpbmd8bnVsbCwgYXV0aERhdGE6IE9iamVjdH0+fVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrQWRtaW5BdXRoKHJlcXVlc3QpIHtcclxuICBjb25zdCBhdXRoRGF0YSA9IGF3YWl0IGV4dHJhY3RBdXRoRnJvbVJlcXVlc3QocmVxdWVzdCk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIGlzQWRtaW46IGF1dGhEYXRhLmlzQWRtaW4sXHJcbiAgICB1c2VySWQ6IGF1dGhEYXRhLnVzZXJJZCxcclxuICAgIGF1dGhEYXRhXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVxdWlyZSBhZG1pbiBhY2Nlc3MgZm9yIEFQSSByb3V0ZXNcclxuICogQHBhcmFtIHtSZXF1ZXN0fSByZXF1ZXN0IC0gVGhlIE5leHQuanMgcmVxdWVzdCBvYmplY3RcclxuICogQHJldHVybnMge1Byb21pc2U8e3N1Y2Nlc3M6IGJvb2xlYW4sIGF1dGhEYXRhPzogT2JqZWN0LCBlcnJvclJlc3BvbnNlPzogUmVzcG9uc2V9Pn1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlQWRtaW4ocmVxdWVzdCkge1xyXG4gIGNvbnN0IHsgaXNBZG1pbiwgdXNlcklkLCBhdXRoRGF0YSB9ID0gYXdhaXQgY2hlY2tBZG1pbkF1dGgocmVxdWVzdCk7XHJcbiAgXHJcbiAgaWYgKCFpc0FkbWluKSB7XHJcbiAgICBjb25zdCBlcnJvclJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKFxyXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogXCJBY2Nlc3MgZGVuaWVkLiBPbmx5IGFkbWluaXN0cmF0b3JzIGNhbiBwZXJmb3JtIHRoaXMgYWN0aW9uLlwiLFxyXG4gICAgICAgIGRhdGE6IG51bGxcclxuICAgICAgfSksXHJcbiAgICAgIHtcclxuICAgICAgICBzdGF0dXM6IDQwMyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JSZXNwb25zZSB9O1xyXG4gIH1cclxuICBcclxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBhdXRoRGF0YTogeyAuLi5hdXRoRGF0YSwgdXNlcklkIH0gfTtcclxufSJdLCJuYW1lcyI6WyJqd3QiLCJleHRyYWN0QXV0aEZyb21SZXF1ZXN0IiwicmVxdWVzdCIsImlzQWRtaW4iLCJ1c2VySWQiLCJlbWFpbCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0IiwidG9rZW4iLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwiY29va2llcyIsInZhbHVlIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJkZWNvZGVkIiwidmVyaWZ5IiwiY29uc29sZSIsImxvZyIsImp3dEVycm9yIiwid2FybiIsIm1lc3NhZ2UiLCJhY2NvdW50Q29va2llIiwiYWNjb3VudERhdGEiLCJKU09OIiwicGFyc2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJfaWQiLCJjb29raWVFcnJvciIsImVycm9yIiwiY2hlY2tBZG1pbkF1dGgiLCJhdXRoRGF0YSIsInJlcXVpcmVBZG1pbiIsImVycm9yUmVzcG9uc2UiLCJSZXNwb25zZSIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJkYXRhIiwic3RhdHVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/auth/serverAuth.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/cloudinary/cloudinaryService.js":
/*!***************************************************!*\
  !*** ./src/utils/cloudinary/cloudinaryService.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteFromCloudinary: () => (/* binding */ deleteFromCloudinary),\n/* harmony export */   uploadToCloudinary: () => (/* binding */ uploadToCloudinary)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"(rsc)/./node_modules/cloudinary/cloudinary.js\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist-node/v4.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n// Configure Cloudinary\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\nconst sanitizeFileName = (name)=>{\n    return name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-_]/g, '').replace(/-+/g, '-');\n};\n// Upload single or multiple files\nconst uploadToCloudinary = async (files, folder = 'default')=>{\n    try {\n        if (!files || files.length === 0) throw new Error('No files provided');\n        const uploads = await Promise.all(files.map(async (file)=>{\n            const ext = path__WEBPACK_IMPORTED_MODULE_1___default().extname(file.originalname).toLowerCase();\n            const resourceType = ext === '.pdf' ? 'raw' : ext === '.mp4' ? 'video' : 'image';\n            const rawName = path__WEBPACK_IMPORTED_MODULE_1___default().parse(file.originalname).name;\n            let publicId = sanitizeFileName(rawName);\n            publicId += `-${(0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])()}`;\n            const cloudinaryOptions = {\n                folder,\n                use_filename: true,\n                unique_filename: false,\n                public_id: publicId,\n                resource_type: resourceType,\n                format: resourceType == \"raw\" ? \"pdf\" : undefined\n            };\n            const result = await cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.upload(file.path, cloudinaryOptions);\n            // Delete the temporary file\n            if (fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(file.path)) {\n                fs__WEBPACK_IMPORTED_MODULE_3___default().unlinkSync(file.path);\n            }\n            return result;\n        }));\n        return uploads;\n    } catch (error) {\n        throw new Error(`Cloudinary Upload Error: ${error.message}`);\n    }\n};\nconst extractPublicId = (fileUrl)=>{\n    try {\n        const parsedUrl = url__WEBPACK_IMPORTED_MODULE_2___default().parse(fileUrl);\n        const pathname = parsedUrl.pathname;\n        // Example pathname: /v1691512345/folder/subfolder/my-file.pdf\n        const parts = pathname.split('/');\n        const versionIndex = parts.findIndex((p)=>/^v\\d+$/.test(p)); // Find 'v1691512345'\n        if (versionIndex === -1 || versionIndex + 1 >= parts.length) {\n            throw new Error('Invalid Cloudinary URL format');\n        }\n        const publicIdWithExt = parts.slice(versionIndex + 1).join('/');\n        const ext = path__WEBPACK_IMPORTED_MODULE_1___default().extname(publicIdWithExt);\n        const publicId = publicIdWithExt.replace(ext, '');\n        // Infer resource type from extension\n        const resourceType = ext === '.pdf' ? 'raw' : ext === '.mp4' ? 'video' : 'image';\n        return {\n            publicId,\n            resourceType\n        };\n    } catch (err) {\n        throw new Error(`Error extracting public_id: ${err.message}`);\n    }\n};\n// Delete file(s) using URLs\nconst deleteFromCloudinary = async (fileUrls)=>{\n    try {\n        if (!fileUrls) throw new Error('No fileUrls provided');\n        const urls = Array.isArray(fileUrls) ? fileUrls : [\n            fileUrls\n        ];\n        const deletions = await Promise.all(urls.map(async (fileUrl)=>{\n            console.log(\"Deleting file:\", fileUrl);\n            const { publicId, resourceType } = extractPublicId(fileUrl);\n            return cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.destroy(publicId, {\n                resource_type: resourceType\n            });\n        }));\n        console.log(\"Deletions completed:\", deletions);\n        return deletions;\n    } catch (error) {\n        throw new Error(`Cloudinary Delete Error: ${error.message}`);\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvY2xvdWRpbmFyeS9jbG91ZGluYXJ5U2VydmljZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE4QztBQUN0QjtBQUNGO0FBQ2M7QUFDaEI7QUFFcEIsdUJBQXVCO0FBQ3ZCQywwQ0FBVUEsQ0FBQ00sTUFBTSxDQUFDO0lBQ2hCQyxZQUFZQyxRQUFRQyxHQUFHLENBQUNDLHFCQUFxQjtJQUM3Q0MsU0FBU0gsUUFBUUMsR0FBRyxDQUFDRyxrQkFBa0I7SUFDdkNDLFlBQVlMLFFBQVFDLEdBQUcsQ0FBQ0sscUJBQXFCO0FBQy9DO0FBRUEsTUFBTUMsbUJBQW1CLENBQUNDO0lBQ3hCLE9BQU9BLEtBQ0pDLFdBQVcsR0FDWEMsT0FBTyxDQUFDLFFBQVEsS0FDaEJBLE9BQU8sQ0FBQyxnQkFBZ0IsSUFDeEJBLE9BQU8sQ0FBQyxPQUFPO0FBQ3BCO0FBRUEsa0NBQWtDO0FBQ2xDLE1BQU1DLHFCQUFxQixPQUFPQyxPQUFPQyxTQUFTLFNBQVM7SUFDekQsSUFBSTtRQUNGLElBQUksQ0FBQ0QsU0FBU0EsTUFBTUUsTUFBTSxLQUFLLEdBQUcsTUFBTSxJQUFJQyxNQUFNO1FBRWxELE1BQU1DLFVBQVUsTUFBTUMsUUFBUUMsR0FBRyxDQUMvQk4sTUFBTU8sR0FBRyxDQUFDLE9BQU9DO1lBQ2YsTUFBTUMsTUFBTTVCLG1EQUFZLENBQUMyQixLQUFLRyxZQUFZLEVBQUVkLFdBQVc7WUFDdkQsTUFBTWUsZUFBZUgsUUFBUSxTQUFTLFFBQVNBLFFBQVEsU0FBUyxVQUFVO1lBQzFFLE1BQU1JLFVBQVVoQyxpREFBVSxDQUFDMkIsS0FBS0csWUFBWSxFQUFFZixJQUFJO1lBQ2xELElBQUltQixXQUFXcEIsaUJBQWlCa0I7WUFDaENFLFlBQVksQ0FBQyxDQUFDLEVBQUUvQixnREFBTUEsSUFBSTtZQUUxQixNQUFNZ0Msb0JBQW9CO2dCQUN4QmY7Z0JBQ0FnQixjQUFjO2dCQUNkQyxpQkFBaUI7Z0JBQ2pCQyxXQUFXSjtnQkFDWEssZUFBZVI7Z0JBQ2ZTLFFBQVFULGdCQUFnQixRQUFRLFFBQVFVO1lBQzFDO1lBRUEsTUFBTUMsU0FBUyxNQUFNM0MsMENBQVVBLENBQUM0QyxRQUFRLENBQUNDLE1BQU0sQ0FBQ2pCLEtBQUszQixJQUFJLEVBQUVtQztZQUUzRCw0QkFBNEI7WUFDNUIsSUFBSS9CLG9EQUFhLENBQUN1QixLQUFLM0IsSUFBSSxHQUFHO2dCQUM1Qkksb0RBQWEsQ0FBQ3VCLEtBQUszQixJQUFJO1lBQ3pCO1lBRUEsT0FBTzBDO1FBQ1Q7UUFHRixPQUFPbkI7SUFDVCxFQUFFLE9BQU93QixPQUFPO1FBQ2QsTUFBTSxJQUFJekIsTUFBTSxDQUFDLHlCQUF5QixFQUFFeUIsTUFBTUMsT0FBTyxFQUFFO0lBQzdEO0FBQ0Y7QUFFQSxNQUFNQyxrQkFBa0IsQ0FBQ0M7SUFDdkIsSUFBSTtRQUNGLE1BQU1DLFlBQVlsRCxnREFBUyxDQUFDaUQ7UUFDNUIsTUFBTUUsV0FBV0QsVUFBVUMsUUFBUTtRQUVuQyw4REFBOEQ7UUFDOUQsTUFBTUMsUUFBUUQsU0FBU0UsS0FBSyxDQUFDO1FBQzdCLE1BQU1DLGVBQWVGLE1BQU1HLFNBQVMsQ0FBQyxDQUFDQyxJQUFNLFNBQVNDLElBQUksQ0FBQ0QsS0FBSyxxQkFBcUI7UUFFcEYsSUFBSUYsaUJBQWlCLENBQUMsS0FBS0EsZUFBZSxLQUFLRixNQUFNaEMsTUFBTSxFQUFFO1lBQzNELE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUVBLE1BQU1xQyxrQkFBa0JOLE1BQU1PLEtBQUssQ0FBQ0wsZUFBZSxHQUFHTSxJQUFJLENBQUM7UUFDM0QsTUFBTWpDLE1BQU01QixtREFBWSxDQUFDMkQ7UUFDekIsTUFBTXpCLFdBQVd5QixnQkFBZ0IxQyxPQUFPLENBQUNXLEtBQUs7UUFFOUMscUNBQXFDO1FBQ3JDLE1BQU1HLGVBQWVILFFBQVEsU0FBUyxRQUFTQSxRQUFRLFNBQVMsVUFBVTtRQUUxRSxPQUFPO1lBQUVNO1lBQVVIO1FBQWE7SUFDbEMsRUFBRSxPQUFPK0IsS0FBSztRQUNaLE1BQU0sSUFBSXhDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRXdDLElBQUlkLE9BQU8sRUFBRTtJQUM5RDtBQUNGO0FBRUEsNEJBQTRCO0FBQzVCLE1BQU1lLHVCQUF1QixPQUFPQztJQUNsQyxJQUFJO1FBQ0YsSUFBSSxDQUFDQSxVQUFVLE1BQU0sSUFBSTFDLE1BQU07UUFFL0IsTUFBTTJDLE9BQU9DLE1BQU1DLE9BQU8sQ0FBQ0gsWUFBWUEsV0FBVztZQUFDQTtTQUFTO1FBRTVELE1BQU1JLFlBQVksTUFBTTVDLFFBQVFDLEdBQUcsQ0FDakN3QyxLQUFLdkMsR0FBRyxDQUFDLE9BQU93QjtZQUNkbUIsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQnBCO1lBQzlCLE1BQU0sRUFBRWhCLFFBQVEsRUFBRUgsWUFBWSxFQUFFLEdBQUdrQixnQkFBZ0JDO1lBQ25ELE9BQU9uRCwwQ0FBVUEsQ0FBQzRDLFFBQVEsQ0FBQzRCLE9BQU8sQ0FBQ3JDLFVBQVU7Z0JBQUVLLGVBQWVSO1lBQWE7UUFDN0U7UUFHRnNDLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0JGO1FBQ3BDLE9BQU9BO0lBQ1QsRUFBRSxPQUFPckIsT0FBTztRQUNkLE1BQU0sSUFBSXpCLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRXlCLE1BQU1DLE9BQU8sRUFBRTtJQUM3RDtBQUNGO0FBS0UiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQmlzd2FqZWV0XFxPbmVEcml2ZVxcRGVza3RvcFxcQUxMRnJlZWxhbmNlXFxtdWx0aWthcnQtYWRtaW5cXHNyY1xcdXRpbHNcXGNsb3VkaW5hcnlcXGNsb3VkaW5hcnlTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHYyIGFzIGNsb3VkaW5hcnkgfSBmcm9tIFwiY2xvdWRpbmFyeVwiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgdXJsIGZyb20gXCJ1cmxcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcblxyXG4vLyBDb25maWd1cmUgQ2xvdWRpbmFyeVxyXG5jbG91ZGluYXJ5LmNvbmZpZyh7XHJcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FLFxyXG4gIGFwaV9rZXk6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX0tFWSxcclxuICBhcGlfc2VjcmV0OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9TRUNSRVQsXHJcbn0pO1xyXG5cclxuY29uc3Qgc2FuaXRpemVGaWxlTmFtZSA9IChuYW1lKSA9PiB7XHJcbiAgcmV0dXJuIG5hbWVcclxuICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpXHJcbiAgICAucmVwbGFjZSgvW15hLXowLTktX10vZywgJycpXHJcbiAgICAucmVwbGFjZSgvLSsvZywgJy0nKTtcclxufTtcclxuXHJcbi8vIFVwbG9hZCBzaW5nbGUgb3IgbXVsdGlwbGUgZmlsZXNcclxuY29uc3QgdXBsb2FkVG9DbG91ZGluYXJ5ID0gYXN5bmMgKGZpbGVzLCBmb2xkZXIgPSAnZGVmYXVsdCcpID0+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcignTm8gZmlsZXMgcHJvdmlkZWQnKTtcclxuXHJcbiAgICBjb25zdCB1cGxvYWRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIGZpbGVzLm1hcChhc3luYyAoZmlsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCByZXNvdXJjZVR5cGUgPSBleHQgPT09ICcucGRmJyA/ICdyYXcnIDogKGV4dCA9PT0gJy5tcDQnID8gJ3ZpZGVvJyA6ICdpbWFnZScpO1xyXG4gICAgICAgIGNvbnN0IHJhd05hbWUgPSBwYXRoLnBhcnNlKGZpbGUub3JpZ2luYWxuYW1lKS5uYW1lO1xyXG4gICAgICAgIGxldCBwdWJsaWNJZCA9IHNhbml0aXplRmlsZU5hbWUocmF3TmFtZSk7XHJcbiAgICAgICAgcHVibGljSWQgKz0gYC0ke3V1aWR2NCgpfWA7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsb3VkaW5hcnlPcHRpb25zID0ge1xyXG4gICAgICAgICAgZm9sZGVyLFxyXG4gICAgICAgICAgdXNlX2ZpbGVuYW1lOiB0cnVlLFxyXG4gICAgICAgICAgdW5pcXVlX2ZpbGVuYW1lOiBmYWxzZSxcclxuICAgICAgICAgIHB1YmxpY19pZDogcHVibGljSWQsXHJcbiAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNvdXJjZVR5cGUsXHJcbiAgICAgICAgICBmb3JtYXQ6IHJlc291cmNlVHlwZSA9PSBcInJhd1wiID8gXCJwZGZcIiA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsb3VkaW5hcnkudXBsb2FkZXIudXBsb2FkKGZpbGUucGF0aCwgY2xvdWRpbmFyeU9wdGlvbnMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgdGVtcG9yYXJ5IGZpbGVcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlLnBhdGgpKSB7XHJcbiAgICAgICAgICBmcy51bmxpbmtTeW5jKGZpbGUucGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB1cGxvYWRzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENsb3VkaW5hcnkgVXBsb2FkIEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZXh0cmFjdFB1YmxpY0lkID0gKGZpbGVVcmwpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcGFyc2VkVXJsID0gdXJsLnBhcnNlKGZpbGVVcmwpO1xyXG4gICAgY29uc3QgcGF0aG5hbWUgPSBwYXJzZWRVcmwucGF0aG5hbWU7XHJcblxyXG4gICAgLy8gRXhhbXBsZSBwYXRobmFtZTogL3YxNjkxNTEyMzQ1L2ZvbGRlci9zdWJmb2xkZXIvbXktZmlsZS5wZGZcclxuICAgIGNvbnN0IHBhcnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKTtcclxuICAgIGNvbnN0IHZlcnNpb25JbmRleCA9IHBhcnRzLmZpbmRJbmRleCgocCkgPT4gL152XFxkKyQvLnRlc3QocCkpOyAvLyBGaW5kICd2MTY5MTUxMjM0NSdcclxuXHJcbiAgICBpZiAodmVyc2lvbkluZGV4ID09PSAtMSB8fCB2ZXJzaW9uSW5kZXggKyAxID49IHBhcnRzLmxlbmd0aCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQ2xvdWRpbmFyeSBVUkwgZm9ybWF0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHVibGljSWRXaXRoRXh0ID0gcGFydHMuc2xpY2UodmVyc2lvbkluZGV4ICsgMSkuam9pbignLycpO1xyXG4gICAgY29uc3QgZXh0ID0gcGF0aC5leHRuYW1lKHB1YmxpY0lkV2l0aEV4dCk7XHJcbiAgICBjb25zdCBwdWJsaWNJZCA9IHB1YmxpY0lkV2l0aEV4dC5yZXBsYWNlKGV4dCwgJycpO1xyXG5cclxuICAgIC8vIEluZmVyIHJlc291cmNlIHR5cGUgZnJvbSBleHRlbnNpb25cclxuICAgIGNvbnN0IHJlc291cmNlVHlwZSA9IGV4dCA9PT0gJy5wZGYnID8gJ3JhdycgOiAoZXh0ID09PSAnLm1wNCcgPyAndmlkZW8nIDogJ2ltYWdlJyk7XHJcblxyXG4gICAgcmV0dXJuIHsgcHVibGljSWQsIHJlc291cmNlVHlwZSB9O1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBleHRyYWN0aW5nIHB1YmxpY19pZDogJHtlcnIubWVzc2FnZX1gKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBEZWxldGUgZmlsZShzKSB1c2luZyBVUkxzXHJcbmNvbnN0IGRlbGV0ZUZyb21DbG91ZGluYXJ5ID0gYXN5bmMgKGZpbGVVcmxzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghZmlsZVVybHMpIHRocm93IG5ldyBFcnJvcignTm8gZmlsZVVybHMgcHJvdmlkZWQnKTtcclxuXHJcbiAgICBjb25zdCB1cmxzID0gQXJyYXkuaXNBcnJheShmaWxlVXJscykgPyBmaWxlVXJscyA6IFtmaWxlVXJsc107XHJcblxyXG4gICAgY29uc3QgZGVsZXRpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIHVybHMubWFwKGFzeW5jIChmaWxlVXJsKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEZWxldGluZyBmaWxlOlwiLCBmaWxlVXJsKTtcclxuICAgICAgICBjb25zdCB7IHB1YmxpY0lkLCByZXNvdXJjZVR5cGUgfSA9IGV4dHJhY3RQdWJsaWNJZChmaWxlVXJsKTtcclxuICAgICAgICByZXR1cm4gY2xvdWRpbmFyeS51cGxvYWRlci5kZXN0cm95KHB1YmxpY0lkLCB7IHJlc291cmNlX3R5cGU6IHJlc291cmNlVHlwZSB9KTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJEZWxldGlvbnMgY29tcGxldGVkOlwiLCBkZWxldGlvbnMpO1xyXG4gICAgcmV0dXJuIGRlbGV0aW9ucztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBDbG91ZGluYXJ5IERlbGV0ZSBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgdXBsb2FkVG9DbG91ZGluYXJ5LFxyXG4gIGRlbGV0ZUZyb21DbG91ZGluYXJ5LFxyXG59O1xyXG4iXSwibmFtZXMiOlsidjIiLCJjbG91ZGluYXJ5IiwicGF0aCIsInVybCIsInY0IiwidXVpZHY0IiwiZnMiLCJjb25maWciLCJjbG91ZF9uYW1lIiwicHJvY2VzcyIsImVudiIsIkNMT1VESU5BUllfQ0xPVURfTkFNRSIsImFwaV9rZXkiLCJDTE9VRElOQVJZX0FQSV9LRVkiLCJhcGlfc2VjcmV0IiwiQ0xPVURJTkFSWV9BUElfU0VDUkVUIiwic2FuaXRpemVGaWxlTmFtZSIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJ1cGxvYWRUb0Nsb3VkaW5hcnkiLCJmaWxlcyIsImZvbGRlciIsImxlbmd0aCIsIkVycm9yIiwidXBsb2FkcyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJmaWxlIiwiZXh0IiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInJlc291cmNlVHlwZSIsInJhd05hbWUiLCJwYXJzZSIsInB1YmxpY0lkIiwiY2xvdWRpbmFyeU9wdGlvbnMiLCJ1c2VfZmlsZW5hbWUiLCJ1bmlxdWVfZmlsZW5hbWUiLCJwdWJsaWNfaWQiLCJyZXNvdXJjZV90eXBlIiwiZm9ybWF0IiwidW5kZWZpbmVkIiwicmVzdWx0IiwidXBsb2FkZXIiLCJ1cGxvYWQiLCJleGlzdHNTeW5jIiwidW5saW5rU3luYyIsImVycm9yIiwibWVzc2FnZSIsImV4dHJhY3RQdWJsaWNJZCIsImZpbGVVcmwiLCJwYXJzZWRVcmwiLCJwYXRobmFtZSIsInBhcnRzIiwic3BsaXQiLCJ2ZXJzaW9uSW5kZXgiLCJmaW5kSW5kZXgiLCJwIiwidGVzdCIsInB1YmxpY0lkV2l0aEV4dCIsInNsaWNlIiwiam9pbiIsImVyciIsImRlbGV0ZUZyb21DbG91ZGluYXJ5IiwiZmlsZVVybHMiLCJ1cmxzIiwiQXJyYXkiLCJpc0FycmF5IiwiZGVsZXRpb25zIiwiY29uc29sZSIsImxvZyIsImRlc3Ryb3kiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/cloudinary/cloudinaryService.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ms","vendor-chunks/lodash","vendor-chunks/cloudinary","vendor-chunks/yup","vendor-chunks/semver","vendor-chunks/q","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/uuid","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproduct%2Froute&page=%2Fapi%2Fproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproduct%2Froute.js&appDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBiswajeet%5COneDrive%5CDesktop%5CALLFreelance%5Cmultikart-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();